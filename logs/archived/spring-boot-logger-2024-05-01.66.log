2024-05-01 20:43:08.043 [HikariPool-1 housekeeper] WARN  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m37s560ms540Âµs).
2024-05-01 20:43:16.945 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 20:43:17.098 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 20:43:17.462 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 20:43:17.516 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 16152 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 20:43:17.516 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 20:43:17.517 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 20:43:18.738 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 20:43:18.804 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 57 ms. Found 5 JPA repository interfaces.
2024-05-01 20:43:20.016 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 20:43:20.028 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:43:20.031 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 20:43:20.032 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 20:43:20.148 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 20:43:20.149 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 2617 ms
2024-05-01 20:43:20.744 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 20:43:21.398 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@286dfa20
2024-05-01 20:43:21.401 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 20:43:21.580 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 20:43:21.581 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 20:43:21.581 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 20:43:21.618 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 20:43:21.698 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.047s)
2024-05-01 20:43:21.726 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 20:43:21.731 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 20:43:21.910 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 20:43:21.997 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 20:43:22.044 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 20:43:22.331 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 20:43:23.496 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 20:43:23.582 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:43:24.869 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 20:43:26.141 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 20:43:26.142 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 20:43:26.153 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 20:43:26.171 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 29 ms
2024-05-01 20:43:26.261 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:43:26.289 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64509 (http) with context path ''
2024-05-01 20:43:26.313 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 9.069 seconds (process running for 10.54)
2024-05-01 20:43:27.502 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 20:43:27.503 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:43:27.508 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:43:27.508 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 20:43:27.508 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 428
2024-05-01 20:43:27.525 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 428
2024-05-01 20:43:27.625 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:43:27.628 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 20:43:27.638 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 20:44:13.605 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 20:44:13.875 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 20:44:14.328 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 20:44:14.391 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 23936 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 20:44:14.391 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 20:44:14.392 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 20:44:16.235 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 20:44:16.328 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 83 ms. Found 5 JPA repository interfaces.
2024-05-01 20:44:18.080 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 20:44:18.101 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:44:18.106 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 20:44:18.107 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 20:44:18.300 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 20:44:18.301 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 3882 ms
2024-05-01 20:44:18.905 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 20:44:19.793 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@173cfb01
2024-05-01 20:44:19.797 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 20:44:20.043 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 20:44:20.044 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 20:44:20.044 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 20:44:20.090 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 20:44:20.201 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.069s)
2024-05-01 20:44:20.237 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 20:44:20.243 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 20:44:20.474 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 20:44:20.620 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 20:44:20.726 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 20:44:21.285 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 20:44:23.494 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 20:44:23.654 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:44:25.777 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 20:44:27.549 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 20:44:27.549 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 20:44:27.568 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 20:44:27.602 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 52 ms
2024-05-01 20:44:27.754 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:44:27.802 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64554 (http) with context path ''
2024-05-01 20:44:27.841 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 13.778 seconds (process running for 15.624)
2024-05-01 20:44:30.043 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 20:44:30.044 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:44:30.051 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:44:30.052 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 20:44:30.052 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 429
2024-05-01 20:44:30.075 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 429
2024-05-01 20:44:30.217 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:44:30.222 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 20:44:30.240 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 20:45:09.172 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 20:45:09.508 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 20:45:10.252 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 20:45:10.359 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 9064 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 20:45:10.360 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 20:45:10.362 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 20:45:13.014 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 20:45:13.152 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 120 ms. Found 5 JPA repository interfaces.
2024-05-01 20:45:15.259 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 20:45:15.281 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:45:15.285 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 20:45:15.286 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 20:45:15.456 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 20:45:15.457 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 5057 ms
2024-05-01 20:45:16.062 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 20:45:16.983 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7fbbdd8a
2024-05-01 20:45:16.987 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 20:45:17.229 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 20:45:17.230 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 20:45:17.230 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 20:45:17.273 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 20:45:17.376 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.063s)
2024-05-01 20:45:17.410 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 20:45:17.417 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 20:45:17.656 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 20:45:17.822 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 20:45:17.910 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 20:45:18.506 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 20:45:20.836 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 20:45:20.985 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:45:23.043 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 20:45:24.665 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 20:45:24.666 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 20:45:24.683 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 20:45:24.704 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 37 ms
2024-05-01 20:45:24.846 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:45:24.902 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64576 (http) with context path ''
2024-05-01 20:45:24.935 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 15.108 seconds (process running for 18.02)
2024-05-01 20:45:26.823 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 174
2024-05-01 20:45:26.823 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 174
2024-05-01 20:45:26.856 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 174
2024-05-01 20:45:27.227 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 20:45:27.227 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:45:27.236 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:45:27.236 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 20:45:27.236 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 331
2024-05-01 20:45:27.242 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@14fda568
2024-05-01 20:45:27.242 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 20:45:27.242 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 20:45:27.242 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 20:45:27.243 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 20:45:27.243 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 331: com.himanshu.departmentalStore.model.Product@14fda568
2024-05-01 20:45:27.867 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 20:45:27.868 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 20:45:27.932 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1452, SQLState: 23000
2024-05-01 20:45:27.932 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 20:45:27.946 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Global Exception: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))] [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; SQL [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; constraint [null]
2024-05-01 20:45:28.071 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 76
2024-05-01 20:45:28.071 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 76
2024-05-01 20:45:28.082 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 20:45:28.083 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 332: com.himanshu.departmentalStore.model.Product@660d78b7
2024-05-01 20:45:28.107 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 20:45:28.107 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 20:45:28.107 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder associated with Ordered product
2024-05-01 20:45:28.107 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder having productId: 332
2024-05-01 20:45:28.128 [main] INFO  --- c.h.d.service.BackorderService     :   performing operation on backorder.
2024-05-01 20:45:28.137 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 76
2024-05-01 20:45:28.138 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 76
2024-05-01 20:45:28.236 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 77.
2024-05-01 20:45:28.236 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:45:28.237 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:45:28.237 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 77
2024-05-01 20:45:28.244 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 20:45:28.245 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 20:45:28.245 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 20:45:28.245 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 333: com.himanshu.departmentalStore.model.Product@60b33bc
2024-05-01 20:45:28.259 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 20:45:28.268 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 20:45:28.399 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 20:45:28.399 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 20:45:28.411 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 20:45:28.503 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 20:45:28.503 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:45:28.504 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:45:28.504 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 20:45:28.504 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 335
2024-05-01 20:45:28.510 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@536e5b21
2024-05-01 20:45:28.510 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 20:45:28.510 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 20:45:28.510 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 20:45:28.510 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 20:45:28.510 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 335: com.himanshu.departmentalStore.model.Product@536e5b21
2024-05-01 20:45:28.527 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 20:45:28.527 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 20:45:28.535 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 20:45:28.644 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 80
2024-05-01 20:45:28.645 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 80
2024-05-01 20:45:28.652 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 80, order : com.himanshu.departmentalStore.model.Order@3284a02f
2024-05-01 20:45:28.652 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 80, order : com.himanshu.departmentalStore.model.Order@3284a02f
2024-05-01 20:45:28.755 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 181
2024-05-01 20:45:28.755 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 181
2024-05-01 20:45:28.762 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 181
2024-05-01 20:45:28.858 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 182.
2024-05-01 20:45:28.859 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:45:28.859 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:45:28.859 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 182
2024-05-01 20:45:28.865 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 182
2024-05-01 20:45:28.951 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 20:45:28.951 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:45:28.951 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:45:28.951 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 20:45:28.951 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 439
2024-05-01 20:45:28.956 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 439
2024-05-01 20:45:29.012 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:45:29.017 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 20:45:29.030 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 20:46:29.602 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 20:46:29.919 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 20:46:30.586 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 20:46:30.697 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 13600 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 20:46:30.698 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 20:46:30.700 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 20:46:33.201 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 20:46:33.322 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 103 ms. Found 5 JPA repository interfaces.
2024-05-01 20:46:35.212 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 20:46:35.239 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:46:35.244 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 20:46:35.245 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 20:46:35.434 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 20:46:35.435 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 4695 ms
2024-05-01 20:46:36.055 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 20:46:36.983 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@be1c08a
2024-05-01 20:46:36.988 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 20:46:37.253 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 20:46:37.253 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 20:46:37.254 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 20:46:37.304 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 20:46:37.415 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.068s)
2024-05-01 20:46:37.450 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 20:46:37.458 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 20:46:37.692 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 20:46:37.857 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 20:46:37.952 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 20:46:38.510 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 20:46:40.622 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 20:46:40.792 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:46:42.817 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 20:46:44.715 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 20:46:44.716 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 20:46:44.737 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 20:46:44.770 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 54 ms
2024-05-01 20:46:44.930 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:46:44.998 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64595 (http) with context path ''
2024-05-01 20:46:45.036 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 14.848 seconds (process running for 17.621)
2024-05-01 20:46:47.238 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 20:46:47.239 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:46:47.248 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:46:47.248 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 20:46:47.248 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 340
2024-05-01 20:46:47.280 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@482ecb95
2024-05-01 20:46:47.280 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 20:46:47.280 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 20:46:47.280 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 20:46:47.280 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 20:46:47.281 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 340: com.himanshu.departmentalStore.model.Product@482ecb95
2024-05-01 20:46:47.871 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 20:46:47.871 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 20:46:47.927 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1452, SQLState: 23000
2024-05-01 20:46:47.928 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 20:46:47.942 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Global Exception: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))] [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; SQL [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; constraint [null]
2024-05-01 20:46:48.079 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:46:48.084 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 20:46:48.138 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 20:46:58.498 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 20:46:58.836 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 20:46:59.570 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 20:46:59.690 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 9396 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 20:46:59.691 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 20:46:59.693 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 20:47:02.311 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 20:47:02.434 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 105 ms. Found 5 JPA repository interfaces.
2024-05-01 20:47:04.779 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 20:47:04.816 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:47:04.823 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 20:47:04.824 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 20:47:05.081 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 20:47:05.082 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 5343 ms
2024-05-01 20:47:05.925 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 20:47:07.163 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@586486c
2024-05-01 20:47:07.170 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 20:47:07.534 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 20:47:07.534 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 20:47:07.535 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 20:47:07.594 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 20:47:07.720 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.078s)
2024-05-01 20:47:07.761 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 20:47:07.769 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 20:47:08.069 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 20:47:08.293 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 20:47:08.423 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 20:47:09.271 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 20:47:12.206 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 20:47:12.397 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:47:14.984 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 20:47:17.564 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 20:47:17.564 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 20:47:17.588 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 20:47:17.622 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 58 ms
2024-05-01 20:47:17.803 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:47:17.852 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64612 (http) with context path ''
2024-05-01 20:47:17.898 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 18.76 seconds (process running for 21.84)
2024-05-01 20:47:20.343 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 184
2024-05-01 20:47:20.343 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 184
2024-05-01 20:47:20.377 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 184
2024-05-01 20:47:20.788 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 20:47:20.788 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:47:20.795 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:47:20.795 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 20:47:20.796 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 342
2024-05-01 20:47:20.803 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@37a709bc
2024-05-01 20:47:20.803 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 20:47:20.803 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 20:47:20.804 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 20:47:20.804 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 20:47:20.804 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 342: com.himanshu.departmentalStore.model.Product@37a709bc
2024-05-01 20:47:21.446 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 20:47:21.447 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 20:47:21.510 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1452, SQLState: 23000
2024-05-01 20:47:21.511 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 20:47:21.527 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Global Exception: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))] [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; SQL [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; constraint [null]
2024-05-01 20:47:21.643 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 86
2024-05-01 20:47:21.644 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 86
2024-05-01 20:47:21.654 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 20:47:21.655 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 343: com.himanshu.departmentalStore.model.Product@3a99aa17
2024-05-01 20:47:21.676 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 20:47:21.676 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 20:47:21.676 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder associated with Ordered product
2024-05-01 20:47:21.677 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder having productId: 343
2024-05-01 20:47:21.701 [main] INFO  --- c.h.d.service.BackorderService     :   performing operation on backorder.
2024-05-01 20:47:21.709 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 86
2024-05-01 20:47:21.710 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 86
2024-05-01 20:47:21.809 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 87.
2024-05-01 20:47:21.810 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:47:21.810 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:47:21.811 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 87
2024-05-01 20:47:21.818 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 20:47:21.818 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 20:47:21.819 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 20:47:21.819 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 344: com.himanshu.departmentalStore.model.Product@1201d134
2024-05-01 20:47:21.832 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 20:47:21.841 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 20:47:21.996 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 20:47:21.996 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 20:47:22.010 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 20:47:22.107 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 20:47:22.107 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:47:22.107 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:47:22.107 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 20:47:22.107 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 346
2024-05-01 20:47:22.114 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@53ca202f
2024-05-01 20:47:22.114 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 20:47:22.115 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 20:47:22.115 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 20:47:22.115 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 20:47:22.115 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 346: com.himanshu.departmentalStore.model.Product@53ca202f
2024-05-01 20:47:22.129 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 20:47:22.129 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 20:47:22.139 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 20:47:22.237 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 90
2024-05-01 20:47:22.237 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 90
2024-05-01 20:47:22.245 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 90, order : com.himanshu.departmentalStore.model.Order@731a1399
2024-05-01 20:47:22.245 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 90, order : com.himanshu.departmentalStore.model.Order@731a1399
2024-05-01 20:47:22.342 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 191
2024-05-01 20:47:22.343 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 191
2024-05-01 20:47:22.348 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 191
2024-05-01 20:47:22.444 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 192.
2024-05-01 20:47:22.445 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:47:22.445 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:47:22.446 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 192
2024-05-01 20:47:22.452 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 192
2024-05-01 20:47:22.537 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 20:47:22.538 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:47:22.538 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:47:22.539 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 20:47:22.539 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 450
2024-05-01 20:47:22.544 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 450
2024-05-01 20:47:22.606 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:47:22.610 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 20:47:22.624 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 20:48:52.182 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 20:48:52.475 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 20:48:53.203 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 20:48:53.308 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 19164 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 20:48:53.309 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 20:48:53.310 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 20:48:55.734 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 20:48:55.857 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 107 ms. Found 5 JPA repository interfaces.
2024-05-01 20:48:57.760 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 20:48:57.781 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:48:57.785 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 20:48:57.787 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 20:48:57.962 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 20:48:57.962 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 4612 ms
2024-05-01 20:48:58.572 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 20:48:59.501 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2095c331
2024-05-01 20:48:59.507 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 20:48:59.776 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 20:48:59.777 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 20:48:59.777 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 20:48:59.823 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 20:48:59.934 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.072s)
2024-05-01 20:48:59.966 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 20:48:59.974 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 20:49:00.219 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 20:49:00.385 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 20:49:00.482 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 20:49:00.961 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 20:49:02.853 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 20:49:03.037 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:49:05.081 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 20:49:06.921 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 20:49:06.922 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 20:49:06.940 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 20:49:06.973 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 51 ms
2024-05-01 20:49:07.136 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:49:07.191 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64646 (http) with context path ''
2024-05-01 20:49:07.238 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 14.448 seconds (process running for 17.309)
2024-05-01 20:49:09.440 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 20:49:09.441 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 20:49:09.448 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 20:49:09.448 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 20:49:09.449 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 351
2024-05-01 20:49:09.480 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@3dd1f392
2024-05-01 20:49:09.480 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 20:49:09.481 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 20:49:09.481 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 20:49:09.481 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 20:49:09.481 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 20:49:09.493 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 117
2024-05-01 20:49:09.497 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Custom Exception: Ordered quantity is more then quantity left in stock : Backorder created
2024-05-01 20:49:09.635 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1451, SQLState: 23000
2024-05-01 20:49:09.635 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot delete or update a parent row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`backorder`, CONSTRAINT `backorder_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 20:49:09.730 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 20:49:09.736 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 20:49:09.754 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 20:59:54.279 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 20:59:54.613 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 20:59:55.237 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 20:59:55.346 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 19512 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 20:59:55.347 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 20:59:55.349 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 20:59:57.805 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 20:59:57.929 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 105 ms. Found 5 JPA repository interfaces.
2024-05-01 20:59:59.880 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 20:59:59.905 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 20:59:59.910 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 20:59:59.911 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 21:00:00.094 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 21:00:00.095 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 4705 ms
2024-05-01 21:00:00.696 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 21:00:01.559 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7b795db7
2024-05-01 21:00:01.564 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 21:00:01.828 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 21:00:01.828 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 21:00:01.828 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 21:00:01.873 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:00:01.977 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.064s)
2024-05-01 21:00:02.009 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:00:02.016 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:00:02.268 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:00:02.435 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 21:00:02.529 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:00:03.104 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:00:04.919 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:00:05.053 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:00:07.185 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:00:09.066 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 21:00:09.067 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 21:00:09.085 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:00:09.109 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 42 ms
2024-05-01 21:00:09.265 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:00:09.337 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64721 (http) with context path ''
2024-05-01 21:00:09.378 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 14.515 seconds (process running for 17.355)
2024-05-01 21:00:11.298 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1451, SQLState: 23000
2024-05-01 21:00:11.298 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot delete or update a parent row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`backorder`, CONSTRAINT `backorder_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 21:00:11.336 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1451, SQLState: 23000
2024-05-01 21:00:11.336 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot delete or update a parent row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`backorder`, CONSTRAINT `backorder_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 21:00:11.429 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:00:11.435 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 21:00:11.454 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 21:01:56.691 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:01:57.005 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 21:01:57.609 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 21:01:57.719 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 23152 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:01:57.720 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:01:57.721 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:02:00.164 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:02:00.288 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 104 ms. Found 5 JPA repository interfaces.
2024-05-01 21:02:02.293 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 21:02:02.321 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:02:02.325 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 21:02:02.326 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 21:02:02.515 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 21:02:02.516 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 4759 ms
2024-05-01 21:02:03.127 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 21:02:04.019 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@b849fa6
2024-05-01 21:02:04.023 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 21:02:04.291 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 21:02:04.291 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 21:02:04.291 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 21:02:04.339 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:02:04.456 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.074s)
2024-05-01 21:02:04.493 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:02:04.500 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:02:04.742 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:02:04.915 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 21:02:05.026 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:02:05.616 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:02:07.575 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:02:07.703 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:02:09.972 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:02:11.779 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 21:02:11.779 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 21:02:11.797 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:02:11.824 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 44 ms
2024-05-01 21:02:11.977 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:02:12.027 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64744 (http) with context path ''
2024-05-01 21:02:12.065 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 14.823 seconds (process running for 17.616)
2024-05-01 21:02:14.104 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:02:14.104 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:02:14.113 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:02:14.114 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:02:14.114 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 352
2024-05-01 21:02:14.127 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@3db32d5
2024-05-01 21:02:14.127 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:02:14.128 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 21:02:14.128 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 21:02:14.128 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 21:02:14.128 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:02:14.146 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 118
2024-05-01 21:02:14.151 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Custom Exception: Ordered quantity is more then quantity left in stock : Backorder created
2024-05-01 21:02:14.312 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:02:14.317 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 21:02:14.361 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 21:03:13.192 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:03:13.551 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 21:03:14.292 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 21:03:14.388 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 23876 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:03:14.388 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:03:14.390 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:03:17.031 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:03:17.175 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 122 ms. Found 5 JPA repository interfaces.
2024-05-01 21:03:19.275 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 21:03:19.298 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:03:19.302 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 21:03:19.303 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 21:03:19.500 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 21:03:19.500 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 5071 ms
2024-05-01 21:03:20.181 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 21:03:21.147 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7fbbdd8a
2024-05-01 21:03:21.151 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 21:03:21.432 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 21:03:21.433 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 21:03:21.433 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 21:03:21.504 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:03:21.624 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.074s)
2024-05-01 21:03:21.661 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:03:21.669 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:03:21.938 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:03:22.103 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 21:03:22.198 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:03:22.792 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:03:25.187 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:03:25.345 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:03:27.637 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:03:29.597 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 21:03:29.598 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 21:03:29.620 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:03:29.652 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 53 ms
2024-05-01 21:03:29.819 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:03:29.877 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64767 (http) with context path ''
2024-05-01 21:03:29.924 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 16.031 seconds (process running for 19.016)
2024-05-01 21:03:32.008 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 193
2024-05-01 21:03:32.008 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 193
2024-05-01 21:03:32.045 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 193
2024-05-01 21:03:32.458 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:03:32.458 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:03:32.465 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:03:32.465 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:03:32.465 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 354
2024-05-01 21:03:32.473 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@745526a0
2024-05-01 21:03:32.473 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:03:32.474 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:03:32.474 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:03:32.474 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:03:32.474 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 354: com.himanshu.departmentalStore.model.Product@745526a0
2024-05-01 21:03:33.104 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:03:33.104 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:03:33.195 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1452, SQLState: 23000
2024-05-01 21:03:33.196 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 21:03:33.215 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Global Exception: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))] [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; SQL [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; constraint [null]
2024-05-01 21:03:33.331 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 95
2024-05-01 21:03:33.331 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 95
2024-05-01 21:03:33.340 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 21:03:33.341 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 355: com.himanshu.departmentalStore.model.Product@2bdc94bd
2024-05-01 21:03:33.359 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 21:03:33.360 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 21:03:33.360 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder associated with Ordered product
2024-05-01 21:03:33.360 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder having productId: 355
2024-05-01 21:03:33.383 [main] INFO  --- c.h.d.service.BackorderService     :   performing operation on backorder.
2024-05-01 21:03:33.392 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 95
2024-05-01 21:03:33.393 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 95
2024-05-01 21:03:33.512 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 96.
2024-05-01 21:03:33.513 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:03:33.514 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:03:33.515 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 96
2024-05-01 21:03:33.522 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:03:33.523 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 21:03:33.524 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:03:33.524 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 356: com.himanshu.departmentalStore.model.Product@31a89b54
2024-05-01 21:03:33.539 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 21:03:33.549 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 21:03:33.687 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 21:03:33.687 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 21:03:33.700 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 21:03:33.808 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:03:33.808 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:03:33.809 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:03:33.809 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:03:33.809 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 358
2024-05-01 21:03:33.816 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@419c537
2024-05-01 21:03:33.816 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:03:33.817 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:03:33.817 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:03:33.817 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:03:33.817 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 358: com.himanshu.departmentalStore.model.Product@419c537
2024-05-01 21:03:33.832 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:03:33.833 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:03:33.841 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 21:03:33.947 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 99
2024-05-01 21:03:33.948 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 99
2024-05-01 21:03:33.955 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 99, order : com.himanshu.departmentalStore.model.Order@58f6f3e8
2024-05-01 21:03:33.956 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 99, order : com.himanshu.departmentalStore.model.Order@58f6f3e8
2024-05-01 21:03:34.057 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 200
2024-05-01 21:03:34.057 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 200
2024-05-01 21:03:34.063 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 200
2024-05-01 21:03:34.166 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 201.
2024-05-01 21:03:34.167 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:03:34.168 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:03:34.168 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 201
2024-05-01 21:03:34.172 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 201
2024-05-01 21:03:34.262 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:03:34.262 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:03:34.262 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:03:34.263 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:03:34.263 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 362
2024-05-01 21:03:34.267 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@62ca9413
2024-05-01 21:03:34.268 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:03:34.268 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 21:03:34.268 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 21:03:34.268 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 21:03:34.269 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:03:34.277 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 119
2024-05-01 21:03:34.278 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Custom Exception: Ordered quantity is more then quantity left in stock : Backorder created
2024-05-01 21:03:34.377 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:03:34.378 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:03:34.379 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:03:34.379 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:03:34.379 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 463
2024-05-01 21:03:34.384 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 463
2024-05-01 21:03:34.455 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:03:34.460 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 21:03:34.475 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 21:09:05.343 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 1
2024-05-01 21:09:05.383 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorder with Id: 1
2024-05-01 21:09:05.469 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 1: BackOrderRequestBody(productId=1, customerId=1, quantity=10)
2024-05-01 21:09:05.477 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:09:05.478 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:09:05.479 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder updated with ID : 1
2024-05-01 21:09:05.492 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to create new backorder with request body: BackOrderRequestBody(productId=1, customerId=1, quantity=5)
2024-05-01 21:09:05.493 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:09:05.493 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:09:05.494 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder created with ID : 1
2024-05-01 21:09:05.508 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch all backorders
2024-05-01 21:09:05.509 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorders
2024-05-01 21:09:05.520 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 1
2024-05-01 21:09:05.521 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder deleted with ID: 1
2024-05-01 21:09:05.554 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 1
2024-05-01 21:09:05.555 [main] INFO  --- c.h.d.controller.CustomerController     :   Returning customer with ID 1: com.himanshu.departmentalStore.model.Customer@2b34e38c
2024-05-01 21:09:05.567 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 1
2024-05-01 21:09:05.568 [main] INFO  --- c.h.d.controller.CustomerController     :   Customer with ID 1 deleted successfully
2024-05-01 21:09:05.577 [main] INFO  --- c.h.d.controller.CustomerController     :   Received request to retrieve all customers.
2024-05-01 21:09:05.578 [main] INFO  --- c.h.d.controller.CustomerController     :   Retrieved 2 customers.
2024-05-01 21:09:05.595 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to save a new customer: com.himanshu.departmentalStore.model.Customer@7cea0110
2024-05-01 21:09:05.596 [main] INFO  --- c.h.d.controller.CustomerController     :   Saved customer: com.himanshu.departmentalStore.model.Customer@7cea0110
2024-05-01 21:09:05.604 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 1: com.himanshu.departmentalStore.model.Customer@5527b211
2024-05-01 21:09:05.605 [main] INFO  --- c.h.d.controller.CustomerController     :   Updated customer with ID 1: com.himanshu.departmentalStore.model.Customer@5527b211
2024-05-01 21:09:05.715 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 1
2024-05-01 21:09:05.716 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched discounts with Id : 1, discount : com.himanshu.departmentalStore.model.Discount@2e179f3e
2024-05-01 21:09:05.725 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 1
2024-05-01 21:09:05.734 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch all active discounts
2024-05-01 21:09:05.735 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched all active discounts : [com.himanshu.departmentalStore.model.Discount@3bddc676, com.himanshu.departmentalStore.model.Discount@29a1505c]
2024-05-01 21:09:05.743 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to create new discount: com.himanshu.departmentalStore.model.Discount@320a8ebf
2024-05-01 21:09:05.751 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 1: com.himanshu.departmentalStore.model.Discount@44b18fe4
2024-05-01 21:09:05.846 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 1
2024-05-01 21:09:05.847 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 1
2024-05-01 21:09:05.856 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 1.
2024-05-01 21:09:05.857 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:09:05.857 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:09:05.858 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 21:09:05.867 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 21:09:05.880 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 1
2024-05-01 21:09:05.881 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 1, order : com.himanshu.departmentalStore.model.Order@62e93c3a
2024-05-01 21:09:05.894 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:09:05.895 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:09:05.895 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:09:05.896 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 21:09:05.926 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 1
2024-05-01 21:09:05.927 [main] INFO  --- c.h.d.controller.ProductController     :   Returning product with ID 1: com.himanshu.departmentalStore.model.Product@7e7f0216
2024-05-01 21:09:05.936 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 1: com.himanshu.departmentalStore.model.Product@62db3891
2024-05-01 21:09:05.937 [main] INFO  --- c.h.d.controller.ProductController     :   Updated product with ID 1: com.himanshu.departmentalStore.model.Product@62db3891
2024-05-01 21:09:05.948 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch all products
2024-05-01 21:09:05.948 [main] INFO  --- c.h.d.controller.ProductController     :   Returning 2 products
2024-05-01 21:09:05.967 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 1
2024-05-01 21:09:05.967 [main] INFO  --- c.h.d.controller.ProductController     :   Product with ID 1 deleted successfully
2024-05-01 21:09:05.981 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to save a new product: com.himanshu.departmentalStore.model.Product@52e04737
2024-05-01 21:09:05.982 [main] INFO  --- c.h.d.controller.ProductController     :   Saved product: com.himanshu.departmentalStore.model.Product@52e04737
2024-05-01 21:09:06.250 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.BackorderIntegrationTest]: BackorderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:09:06.546 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.BackorderIntegrationTest
2024-05-01 21:09:07.365 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 21:09:07.490 [main] INFO  --- c.h.d.i.BackorderIntegrationTest     :   Starting BackorderIntegrationTest using Java 21.0.2 with PID 3224 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:09:07.491 [main] DEBUG --- c.h.d.i.BackorderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:09:07.492 [main] INFO  --- c.h.d.i.BackorderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:09:09.969 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:09:10.120 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 129 ms. Found 5 JPA repository interfaces.
2024-05-01 21:09:11.960 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 21:09:11.982 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:09:11.986 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 21:09:11.987 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 21:09:12.119 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 21:09:12.120 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 4591 ms
2024-05-01 21:09:12.760 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 21:09:13.676 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@75b25ec3
2024-05-01 21:09:13.681 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 21:09:13.984 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 21:09:13.985 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 21:09:13.985 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 21:09:14.036 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:09:14.141 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.065s)
2024-05-01 21:09:14.177 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:09:14.183 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:09:14.425 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:09:14.590 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 21:09:14.689 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:09:14.963 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:09:16.721 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:09:16.888 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:09:19.113 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:09:20.932 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 21:09:20.932 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 21:09:20.950 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:09:20.975 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 42 ms
2024-05-01 21:09:21.137 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:09:21.190 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64802 (http) with context path ''
2024-05-01 21:09:21.226 [main] INFO  --- c.h.d.i.BackorderIntegrationTest     :   Started BackorderIntegrationTest in 14.37 seconds (process running for 20.381)
2024-05-01 21:09:22.011 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 120
2024-05-01 21:09:22.011 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 120
2024-05-01 21:09:22.050 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorder with Id: 120
2024-05-01 21:09:22.407 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 121: BackOrderRequestBody(productId=365, customerId=392, quantity=200)
2024-05-01 21:09:22.407 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:09:22.416 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:09:22.416 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:09:22.981 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder updated with ID : 121
2024-05-01 21:09:23.063 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 222
2024-05-01 21:09:23.064 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 222
2024-05-01 21:09:23.072 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 222
2024-05-01 21:09:23.157 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 223
2024-05-01 21:09:23.157 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:09:23.163 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 223
2024-05-01 21:09:23.243 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to create new backorder with request body: BackOrderRequestBody(productId=368, customerId=395, quantity=100)
2024-05-01 21:09:23.244 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:09:23.244 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:09:23.244 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:09:23.255 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder created with ID : 124
2024-05-01 21:09:23.360 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch all backorders
2024-05-01 21:09:23.361 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorders
2024-05-01 21:09:23.372 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorders
2024-05-01 21:09:23.473 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 226: BackOrderRequestBody(productId=null, customerId=null, quantity=200)
2024-05-01 21:09:23.473 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:09:23.473 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:09:23.473 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:09:23.481 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 226
2024-05-01 21:09:23.575 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 127
2024-05-01 21:09:23.576 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:09:23.593 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder deleted with ID: 127
2024-05-01 21:09:23.637 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.CustomerIntegrationTest]: CustomerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:09:23.645 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.CustomerIntegrationTest
2024-05-01 21:09:23.676 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 399
2024-05-01 21:09:23.676 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 399
2024-05-01 21:09:23.684 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched customer: com.himanshu.departmentalStore.model.Customer@6797120c
2024-05-01 21:09:23.688 [main] INFO  --- c.h.d.controller.CustomerController     :   Returning customer with ID 399: com.himanshu.departmentalStore.model.Customer@6797120c
2024-05-01 21:09:23.733 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 400
2024-05-01 21:09:23.733 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 400
2024-05-01 21:09:23.748 [main] INFO  --- c.h.d.controller.CustomerController     :   Customer with ID 400 deleted successfully
2024-05-01 21:09:23.782 [main] INFO  --- c.h.d.controller.CustomerController     :   Received request to retrieve all customers.
2024-05-01 21:09:23.783 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching all customers from the database
2024-05-01 21:09:23.790 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched 1 customers
2024-05-01 21:09:23.791 [main] INFO  --- c.h.d.controller.CustomerController     :   Retrieved 1 customers.
2024-05-01 21:09:23.825 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 502
2024-05-01 21:09:23.826 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 502
2024-05-01 21:09:23.831 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 502
2024-05-01 21:09:23.862 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to save a new customer: com.himanshu.departmentalStore.model.Customer@4ca8d446
2024-05-01 21:09:23.863 [main] INFO  --- c.h.d.service.CustomerService     :   Saving new customer: com.himanshu.departmentalStore.model.Customer@4ca8d446
2024-05-01 21:09:23.869 [main] INFO  --- c.h.d.controller.CustomerController     :   Saved customer: com.himanshu.departmentalStore.model.Customer@4ca8d446
2024-05-01 21:09:23.918 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 504: com.himanshu.departmentalStore.model.Customer@408aced7
2024-05-01 21:09:23.918 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 504: com.himanshu.departmentalStore.model.Customer@408aced7
2024-05-01 21:09:23.928 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID 504 not found
2024-05-01 21:09:23.929 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 504
2024-05-01 21:09:23.968 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 405: com.himanshu.departmentalStore.model.Customer@70cd0c14
2024-05-01 21:09:23.969 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 405: com.himanshu.departmentalStore.model.Customer@70cd0c14
2024-05-01 21:09:23.984 [main] INFO  --- c.h.d.controller.CustomerController     :   Updated customer with ID 405: com.himanshu.departmentalStore.model.Customer@7a16602e
2024-05-01 21:09:24.021 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 506
2024-05-01 21:09:24.022 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 506
2024-05-01 21:09:24.026 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 506
2024-05-01 21:09:24.047 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.DiscountIntegrationTest]: DiscountIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:09:24.053 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.DiscountIntegrationTest
2024-05-01 21:09:24.083 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 266
2024-05-01 21:09:24.084 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 266
2024-05-01 21:09:24.090 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched discounts with Id : 266, discount : com.himanshu.departmentalStore.model.Discount@5a7baf4f
2024-05-01 21:09:24.131 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 267
2024-05-01 21:09:24.131 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 267
2024-05-01 21:09:24.169 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch all discounts
2024-05-01 21:09:24.169 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching all discounts
2024-05-01 21:09:24.175 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched all discounts : [com.himanshu.departmentalStore.model.Discount@27df0864]
2024-05-01 21:09:24.211 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 369
2024-05-01 21:09:24.212 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 369
2024-05-01 21:09:24.217 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 369
2024-05-01 21:09:24.250 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to create new discount: com.himanshu.departmentalStore.model.Discount@13304692
2024-05-01 21:09:24.250 [main] INFO  --- c.h.d.service.DiscountService     :   Saving discount: com.himanshu.departmentalStore.model.Discount@13304692
2024-05-01 21:09:24.299 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 371: com.himanshu.departmentalStore.model.Discount@3ce295f9
2024-05-01 21:09:24.300 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 371: com.himanshu.departmentalStore.model.Discount@3ce295f9
2024-05-01 21:09:24.308 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 371
2024-05-01 21:09:24.342 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 272: com.himanshu.departmentalStore.model.Discount@7d043960
2024-05-01 21:09:24.343 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 272: com.himanshu.departmentalStore.model.Discount@7d043960
2024-05-01 21:09:24.390 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 373
2024-05-01 21:09:24.390 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 373
2024-05-01 21:09:24.395 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 373
2024-05-01 21:09:24.417 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:09:24.422 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 21:09:24.489 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 202
2024-05-01 21:09:24.489 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 202
2024-05-01 21:09:24.495 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 202
2024-05-01 21:09:24.583 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:09:24.583 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:09:24.583 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:09:24.584 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:09:24.584 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 373
2024-05-01 21:09:24.591 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@4f1bfab4
2024-05-01 21:09:24.591 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:09:24.591 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:09:24.592 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:09:24.592 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:09:24.592 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 373: com.himanshu.departmentalStore.model.Product@4f1bfab4
2024-05-01 21:09:24.610 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:09:24.610 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:09:24.682 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1452, SQLState: 23000
2024-05-01 21:09:24.682 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 21:09:24.697 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Global Exception: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))] [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; SQL [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; constraint [null]
2024-05-01 21:09:24.776 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 104
2024-05-01 21:09:24.776 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 104
2024-05-01 21:09:24.783 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 21:09:24.783 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 374: com.himanshu.departmentalStore.model.Product@318d0545
2024-05-01 21:09:24.798 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 21:09:24.799 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 21:09:24.799 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder associated with Ordered product
2024-05-01 21:09:24.799 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder having productId: 374
2024-05-01 21:09:24.822 [main] INFO  --- c.h.d.service.BackorderService     :   performing operation on backorder.
2024-05-01 21:09:24.830 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 104
2024-05-01 21:09:24.831 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 104
2024-05-01 21:09:24.917 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 105.
2024-05-01 21:09:24.917 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:09:24.917 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:09:24.917 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 105
2024-05-01 21:09:24.923 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:09:24.923 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 21:09:24.924 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:09:24.924 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 375: com.himanshu.departmentalStore.model.Product@635763d4
2024-05-01 21:09:24.937 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 21:09:24.945 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 21:09:25.046 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 21:09:25.046 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 21:09:25.057 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 21:09:25.142 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:09:25.143 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:09:25.143 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:09:25.143 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:09:25.143 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 377
2024-05-01 21:09:25.148 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@4776f6af
2024-05-01 21:09:25.148 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:09:25.148 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:09:25.148 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:09:25.148 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:09:25.148 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 377: com.himanshu.departmentalStore.model.Product@4776f6af
2024-05-01 21:09:25.157 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:09:25.157 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:09:25.163 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 21:09:25.249 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 108
2024-05-01 21:09:25.249 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 108
2024-05-01 21:09:25.256 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 108, order : com.himanshu.departmentalStore.model.Order@34953064
2024-05-01 21:09:25.257 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 108, order : com.himanshu.departmentalStore.model.Order@34953064
2024-05-01 21:09:25.357 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 209
2024-05-01 21:09:25.358 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 209
2024-05-01 21:09:25.362 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 209
2024-05-01 21:09:25.440 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 210.
2024-05-01 21:09:25.440 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:09:25.441 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:09:25.441 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 210
2024-05-01 21:09:25.446 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 210
2024-05-01 21:09:25.537 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:09:25.538 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:09:25.538 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:09:25.539 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:09:25.539 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 381
2024-05-01 21:09:25.544 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@343d2c5a
2024-05-01 21:09:25.545 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:09:25.545 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 21:09:25.545 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 21:09:25.545 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 21:09:25.545 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:09:25.553 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 128
2024-05-01 21:09:25.554 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Custom Exception: Ordered quantity is more then quantity left in stock : Backorder created
2024-05-01 21:09:25.632 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:09:25.632 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:09:25.633 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:09:25.633 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:09:25.633 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 482
2024-05-01 21:09:25.638 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 482
2024-05-01 21:09:25.677 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.ProductIntegrationTest]: ProductIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:09:25.680 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.ProductIntegrationTest
2024-05-01 21:09:25.699 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 383
2024-05-01 21:09:25.699 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 383
2024-05-01 21:09:25.704 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@3d5735c2
2024-05-01 21:09:25.704 [main] INFO  --- c.h.d.controller.ProductController     :   Returning product with ID 383: com.himanshu.departmentalStore.model.Product@3d5735c2
2024-05-01 21:09:25.748 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 384: com.himanshu.departmentalStore.model.Product@3f5b2aeb
2024-05-01 21:09:25.749 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 384: com.himanshu.departmentalStore.model.Product@3f5b2aeb
2024-05-01 21:09:25.764 [main] INFO  --- c.h.d.controller.ProductController     :   Updated product with ID 384: com.himanshu.departmentalStore.model.Product@5811502e
2024-05-01 21:09:25.792 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch all products
2024-05-01 21:09:25.793 [main] INFO  --- c.h.d.service.ProductService     :   Fetching all products from the database
2024-05-01 21:09:25.797 [main] INFO  --- c.h.d.service.ProductService     :   Fetched 1 products
2024-05-01 21:09:25.797 [main] INFO  --- c.h.d.controller.ProductController     :   Returning 1 products
2024-05-01 21:09:25.829 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 486: com.himanshu.departmentalStore.model.Product@1bde703a
2024-05-01 21:09:25.829 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 486: com.himanshu.departmentalStore.model.Product@1bde703a
2024-05-01 21:09:25.833 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID 486 not found
2024-05-01 21:09:25.834 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 486
2024-05-01 21:09:25.861 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 387
2024-05-01 21:09:25.862 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 387
2024-05-01 21:09:25.871 [main] INFO  --- c.h.d.controller.ProductController     :   Product with ID 387 deleted successfully
2024-05-01 21:09:25.893 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to save a new product: com.himanshu.departmentalStore.model.Product@7f95dc2
2024-05-01 21:09:25.893 [main] INFO  --- c.h.d.service.ProductService     :   Saving new product: com.himanshu.departmentalStore.model.Product@7f95dc2
2024-05-01 21:09:25.900 [main] INFO  --- c.h.d.controller.ProductController     :   Saved product: com.himanshu.departmentalStore.model.Product@7f95dc2
2024-05-01 21:09:25.932 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 489
2024-05-01 21:09:25.932 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 489
2024-05-01 21:09:25.936 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 489
2024-05-01 21:09:25.969 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 490
2024-05-01 21:09:25.969 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 490
2024-05-01 21:09:25.974 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 490
2024-05-01 21:09:26.057 [main] INFO  --- c.h.d.r.BackorderRepositoryTest     :   Starting BackorderRepositoryTest using Java 21.0.2 with PID 3224 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:09:26.057 [main] DEBUG --- c.h.d.r.BackorderRepositoryTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:09:26.058 [main] INFO  --- c.h.d.r.BackorderRepositoryTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:09:26.722 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:09:26.755 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 33 ms. Found 5 JPA repository interfaces.
2024-05-01 21:09:26.916 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Starting...
2024-05-01 21:09:26.942 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4259ccab
2024-05-01 21:09:26.943 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Start completed.
2024-05-01 21:09:26.962 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:09:26.991 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.019s)
2024-05-01 21:09:27.007 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:09:27.008 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:09:27.077 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:09:27.087 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:09:27.100 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:09:27.424 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:09:27.486 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:09:27.994 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:09:28.711 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:09:28.753 [main] INFO  --- c.h.d.r.BackorderRepositoryTest     :   Started BackorderRepositoryTest in 2.742 seconds (process running for 27.874)
2024-05-01 21:09:30.776 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 1
2024-05-01 21:09:30.780 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:09:30.784 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:09:30.788 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorders
2024-05-01 21:09:30.794 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:09:30.937 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 1
2024-05-01 21:09:30.937 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched customer: com.himanshu.departmentalStore.model.Customer@6c027ab7
2024-05-01 21:09:30.943 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 1
2024-05-01 21:09:30.947 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching all customers from the database
2024-05-01 21:09:30.947 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched 2 customers
2024-05-01 21:09:30.950 [main] INFO  --- c.h.d.service.CustomerService     :   Saving new customer: com.himanshu.departmentalStore.model.Customer@7baa178
2024-05-01 21:09:30.956 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1: com.himanshu.departmentalStore.model.Customer@17f74794
2024-05-01 21:09:31.113 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 1
2024-05-01 21:09:31.117 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 1
2024-05-01 21:09:31.122 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching all active discounts
2024-05-01 21:09:31.127 [main] INFO  --- c.h.d.service.DiscountService     :   Saving discount: com.himanshu.departmentalStore.model.Discount@24d2587e
2024-05-01 21:09:31.131 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 1: com.himanshu.departmentalStore.model.Discount@73ccccd2
2024-05-01 21:09:31.164 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:09:31.169 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:09:31.176 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:09:31.183 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : -1
2024-05-01 21:09:31.189 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:09:31.194 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID -1
2024-05-01 21:09:31.200 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1: null
2024-05-01 21:09:31.202 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID 1 not found
2024-05-01 21:09:31.205 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID -1: com.himanshu.departmentalStore.model.Customer@493cadeb
2024-05-01 21:09:31.205 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID -1 not found
2024-05-01 21:09:31.211 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID -1
2024-05-01 21:09:31.214 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID null
2024-05-01 21:09:31.219 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID -1
2024-05-01 21:09:31.231 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: -1
2024-05-01 21:09:31.235 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID -1: com.himanshu.departmentalStore.model.Discount@6a6082b3
2024-05-01 21:09:31.243 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: -1
2024-05-01 21:09:31.248 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 1: null
2024-05-01 21:09:31.252 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: null
2024-05-01 21:09:31.411 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:09:31.411 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:09:31.411 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 21:09:31.412 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 21:09:31.412 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 21:09:31.412 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 1
2024-05-01 21:09:31.429 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 1
2024-05-01 21:09:31.435 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:09:31.436 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:09:31.436 [main] ERROR --- c.h.d.service.OrderService     :   No change in previous and current quantity : not updated
2024-05-01 21:09:31.442 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:09:31.615 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID null
2024-05-01 21:09:31.625 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID -1
2024-05-01 21:09:31.631 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID -1: com.himanshu.departmentalStore.model.Product@16ec0065
2024-05-01 21:09:31.631 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID -1 not found
2024-05-01 21:09:31.636 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1: null
2024-05-01 21:09:31.636 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID 1 not found
2024-05-01 21:09:31.641 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID -1
2024-05-01 21:09:31.651 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 1
2024-05-01 21:09:31.651 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 21:09:31.651 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 21:09:31.651 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 21:09:31.652 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 1
2024-05-01 21:09:31.657 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:09:31.657 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:09:31.658 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 21:09:31.658 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:09:31.658 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 21:09:31.663 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 21:09:31.663 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 21:09:31.667 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 1
2024-05-01 21:09:31.667 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 1, order : com.himanshu.departmentalStore.model.Order@39310988
2024-05-01 21:09:31.673 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:09:31.673 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:09:31.673 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:09:31.673 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:09:31.674 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:09:31.674 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:09:31.674 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:09:31.680 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1
2024-05-01 21:09:31.681 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@75618e16
2024-05-01 21:09:31.685 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1: com.himanshu.departmentalStore.model.Product@5b0e558a
2024-05-01 21:09:31.689 [main] INFO  --- c.h.d.service.ProductService     :   Fetching all products from the database
2024-05-01 21:09:31.689 [main] INFO  --- c.h.d.service.ProductService     :   Fetched 2 products
2024-05-01 21:09:31.693 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 1
2024-05-01 21:09:31.697 [main] INFO  --- c.h.d.service.ProductService     :   Saving new product: com.himanshu.departmentalStore.model.Product@581f515a
2024-05-01 21:09:31.801 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:09:31.804 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 21:09:31.818 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 21:09:31.831 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:09:31.833 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Shutdown initiated...
2024-05-01 21:09:31.841 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Shutdown completed.
2024-05-01 21:10:47.981 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 1
2024-05-01 21:10:48.024 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 21:10:48.025 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 21:10:48.025 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 21:10:48.026 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 1
2024-05-01 21:10:48.082 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:10:48.083 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:10:48.084 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 21:10:48.084 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:10:48.086 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 21:10:48.105 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 21:10:48.106 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 21:10:48.119 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 1
2024-05-01 21:10:48.120 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 1, order : com.himanshu.departmentalStore.model.Order@1894593a
2024-05-01 21:10:48.135 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:10:48.136 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:10:48.137 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:10:48.137 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:10:48.138 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:10:48.138 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:10:48.139 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:10:49.447 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 21:10:49.515 [main] INFO  --- c.h.d.repository.OrderRepositoryTest     :   Starting OrderRepositoryTest using Java 21.0.2 with PID 11776 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:10:49.516 [main] DEBUG --- c.h.d.repository.OrderRepositoryTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:10:49.529 [main] INFO  --- c.h.d.repository.OrderRepositoryTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:10:52.071 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:10:52.235 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 144 ms. Found 5 JPA repository interfaces.
2024-05-01 21:10:53.650 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 21:10:54.443 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a92827f
2024-05-01 21:10:54.447 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 21:10:54.734 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 21:10:54.735 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 21:10:54.735 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 21:10:54.782 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:10:54.882 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.060s)
2024-05-01 21:10:54.912 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:10:54.919 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:10:55.164 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:10:55.318 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 21:10:55.401 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:10:55.684 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:10:57.301 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:10:57.434 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:10:59.917 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:11:02.102 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:11:02.288 [main] INFO  --- c.h.d.repository.OrderRepositoryTest     :   Started OrderRepositoryTest in 13.369 seconds (process running for 19.516)
2024-05-01 21:11:04.108 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:11:04.147 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 21:11:04.213 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 11776 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:11:04.213 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:11:04.214 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:11:04.918 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:11:04.954 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 35 ms. Found 5 JPA repository interfaces.
2024-05-01 21:11:05.400 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 21:11:05.417 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:11:05.420 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 21:11:05.421 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 21:11:05.545 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 21:11:05.545 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 1328 ms
2024-05-01 21:11:05.853 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Starting...
2024-05-01 21:11:05.882 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@659ba3a1
2024-05-01 21:11:05.882 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Start completed.
2024-05-01 21:11:05.906 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:11:05.935 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.019s)
2024-05-01 21:11:05.952 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:11:05.953 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:11:06.006 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:11:06.013 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:11:06.023 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:11:06.242 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:11:06.305 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:11:06.814 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:11:07.430 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 21:11:07.431 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 21:11:07.442 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:11:07.457 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 26 ms
2024-05-01 21:11:07.529 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:11:07.577 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64848 (http) with context path ''
2024-05-01 21:11:07.592 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 3.439 seconds (process running for 24.819)
2024-05-01 21:11:07.775 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 223
2024-05-01 21:11:07.776 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 223
2024-05-01 21:11:07.786 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 223
2024-05-01 21:11:08.112 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:11:08.113 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:11:08.120 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:11:08.121 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:11:08.121 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 416
2024-05-01 21:11:08.127 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@6ad92fb8
2024-05-01 21:11:08.127 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:11:08.128 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:11:08.128 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:11:08.128 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:11:08.128 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 416: com.himanshu.departmentalStore.model.Product@6ad92fb8
2024-05-01 21:11:08.150 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:11:08.150 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:11:08.223 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1452, SQLState: 23000
2024-05-01 21:11:08.223 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 21:11:08.240 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Global Exception: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))] [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; SQL [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; constraint [null]
2024-05-01 21:11:08.347 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 125
2024-05-01 21:11:08.347 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 125
2024-05-01 21:11:08.353 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 21:11:08.354 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 417: com.himanshu.departmentalStore.model.Product@7ab9d59f
2024-05-01 21:11:08.369 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 21:11:08.369 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 21:11:08.369 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder associated with Ordered product
2024-05-01 21:11:08.370 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder having productId: 417
2024-05-01 21:11:08.391 [main] INFO  --- c.h.d.service.BackorderService     :   performing operation on backorder.
2024-05-01 21:11:08.399 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 125
2024-05-01 21:11:08.399 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 125
2024-05-01 21:11:08.487 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 126.
2024-05-01 21:11:08.487 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:11:08.487 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:11:08.488 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 126
2024-05-01 21:11:08.494 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:11:08.494 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 21:11:08.495 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:11:08.495 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 418: com.himanshu.departmentalStore.model.Product@11708138
2024-05-01 21:11:08.511 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 21:11:08.517 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 21:11:08.629 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 21:11:08.629 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 21:11:08.637 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 21:11:08.723 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:11:08.723 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:11:08.724 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:11:08.724 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:11:08.724 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 420
2024-05-01 21:11:08.729 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@5ed5ac49
2024-05-01 21:11:08.729 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:11:08.729 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:11:08.729 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:11:08.730 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:11:08.730 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 420: com.himanshu.departmentalStore.model.Product@5ed5ac49
2024-05-01 21:11:08.741 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:11:08.741 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:11:08.750 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 21:11:08.831 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 129
2024-05-01 21:11:08.831 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 129
2024-05-01 21:11:08.837 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 129, order : com.himanshu.departmentalStore.model.Order@65951393
2024-05-01 21:11:08.838 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 129, order : com.himanshu.departmentalStore.model.Order@65951393
2024-05-01 21:11:08.932 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 230
2024-05-01 21:11:08.932 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 230
2024-05-01 21:11:08.937 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 230
2024-05-01 21:11:09.031 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 231.
2024-05-01 21:11:09.032 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:11:09.032 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:11:09.032 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 231
2024-05-01 21:11:09.038 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 231
2024-05-01 21:11:09.120 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:11:09.121 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:11:09.121 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:11:09.121 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:11:09.121 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 424
2024-05-01 21:11:09.126 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@21cfa25
2024-05-01 21:11:09.126 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:11:09.127 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 21:11:09.127 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 21:11:09.127 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 21:11:09.127 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:11:09.135 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 135
2024-05-01 21:11:09.136 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Custom Exception: Ordered quantity is more then quantity left in stock : Backorder created
2024-05-01 21:11:09.223 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:11:09.223 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:11:09.224 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:11:09.224 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:11:09.224 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 525
2024-05-01 21:11:09.228 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 525
2024-05-01 21:11:09.266 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.ProductIntegrationTest]: ProductIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:11:09.271 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.ProductIntegrationTest
2024-05-01 21:11:09.291 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 426
2024-05-01 21:11:09.291 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 426
2024-05-01 21:11:09.296 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@2e8a3f87
2024-05-01 21:11:09.296 [main] INFO  --- c.h.d.controller.ProductController     :   Returning product with ID 426: com.himanshu.departmentalStore.model.Product@2e8a3f87
2024-05-01 21:11:09.344 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 427: com.himanshu.departmentalStore.model.Product@9f7c1c
2024-05-01 21:11:09.345 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 427: com.himanshu.departmentalStore.model.Product@9f7c1c
2024-05-01 21:11:09.363 [main] INFO  --- c.h.d.controller.ProductController     :   Updated product with ID 427: com.himanshu.departmentalStore.model.Product@3bf8f426
2024-05-01 21:11:09.393 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch all products
2024-05-01 21:11:09.393 [main] INFO  --- c.h.d.service.ProductService     :   Fetching all products from the database
2024-05-01 21:11:09.399 [main] INFO  --- c.h.d.service.ProductService     :   Fetched 1 products
2024-05-01 21:11:09.399 [main] INFO  --- c.h.d.controller.ProductController     :   Returning 1 products
2024-05-01 21:11:09.443 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 529: com.himanshu.departmentalStore.model.Product@314ba270
2024-05-01 21:11:09.443 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 529: com.himanshu.departmentalStore.model.Product@314ba270
2024-05-01 21:11:09.448 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID 529 not found
2024-05-01 21:11:09.449 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 529
2024-05-01 21:11:09.478 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 430
2024-05-01 21:11:09.479 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 430
2024-05-01 21:11:09.490 [main] INFO  --- c.h.d.controller.ProductController     :   Product with ID 430 deleted successfully
2024-05-01 21:11:09.511 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to save a new product: com.himanshu.departmentalStore.model.Product@14269e0
2024-05-01 21:11:09.511 [main] INFO  --- c.h.d.service.ProductService     :   Saving new product: com.himanshu.departmentalStore.model.Product@14269e0
2024-05-01 21:11:09.518 [main] INFO  --- c.h.d.controller.ProductController     :   Saved product: com.himanshu.departmentalStore.model.Product@14269e0
2024-05-01 21:11:09.548 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 532
2024-05-01 21:11:09.549 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 532
2024-05-01 21:11:09.553 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 532
2024-05-01 21:11:09.587 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 533
2024-05-01 21:11:09.587 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 533
2024-05-01 21:11:09.593 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 533
2024-05-01 21:11:10.491 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 1
2024-05-01 21:11:10.492 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 1
2024-05-01 21:11:10.506 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 1.
2024-05-01 21:11:10.507 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:11:10.507 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:11:10.508 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 21:11:10.516 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 21:11:10.522 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 1
2024-05-01 21:11:10.523 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 1, order : com.himanshu.departmentalStore.model.Order@2315d524
2024-05-01 21:11:10.531 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:11:10.532 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:11:10.532 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:11:10.533 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 21:11:10.538 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.DiscountIntegrationTest]: DiscountIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:11:10.542 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.DiscountIntegrationTest
2024-05-01 21:11:10.569 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 280
2024-05-01 21:11:10.569 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 280
2024-05-01 21:11:10.575 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched discounts with Id : 280, discount : com.himanshu.departmentalStore.model.Discount@79010f6f
2024-05-01 21:11:10.607 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 281
2024-05-01 21:11:10.608 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 281
2024-05-01 21:11:10.639 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch all discounts
2024-05-01 21:11:10.639 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching all discounts
2024-05-01 21:11:10.645 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched all discounts : [com.himanshu.departmentalStore.model.Discount@39a80226]
2024-05-01 21:11:10.671 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 383
2024-05-01 21:11:10.672 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 383
2024-05-01 21:11:10.676 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 383
2024-05-01 21:11:10.705 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to create new discount: com.himanshu.departmentalStore.model.Discount@2590172b
2024-05-01 21:11:10.706 [main] INFO  --- c.h.d.service.DiscountService     :   Saving discount: com.himanshu.departmentalStore.model.Discount@2590172b
2024-05-01 21:11:10.746 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 385: com.himanshu.departmentalStore.model.Discount@70ce5a0a
2024-05-01 21:11:10.746 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 385: com.himanshu.departmentalStore.model.Discount@70ce5a0a
2024-05-01 21:11:10.753 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 385
2024-05-01 21:11:10.791 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 286: com.himanshu.departmentalStore.model.Discount@87fed41
2024-05-01 21:11:10.791 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 286: com.himanshu.departmentalStore.model.Discount@87fed41
2024-05-01 21:11:10.831 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 387
2024-05-01 21:11:10.832 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 387
2024-05-01 21:11:10.836 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 387
2024-05-01 21:11:10.855 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 1
2024-05-01 21:11:10.856 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched discounts with Id : 1, discount : com.himanshu.departmentalStore.model.Discount@5438d916
2024-05-01 21:11:10.860 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 1
2024-05-01 21:11:10.864 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch all active discounts
2024-05-01 21:11:10.865 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched all active discounts : [com.himanshu.departmentalStore.model.Discount@6271e058, com.himanshu.departmentalStore.model.Discount@70137569]
2024-05-01 21:11:10.869 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to create new discount: com.himanshu.departmentalStore.model.Discount@1d49806
2024-05-01 21:11:10.874 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 1: com.himanshu.departmentalStore.model.Discount@7995399
2024-05-01 21:11:11.039 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID -1
2024-05-01 21:11:11.050 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1: null
2024-05-01 21:11:11.051 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID 1 not found
2024-05-01 21:11:11.056 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID -1: com.himanshu.departmentalStore.model.Customer@633eb17b
2024-05-01 21:11:11.057 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID -1 not found
2024-05-01 21:11:11.060 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID -1
2024-05-01 21:11:11.065 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID null
2024-05-01 21:11:11.069 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID -1
2024-05-01 21:11:11.075 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 1
2024-05-01 21:11:11.075 [main] INFO  --- c.h.d.controller.ProductController     :   Returning product with ID 1: com.himanshu.departmentalStore.model.Product@668f84ad
2024-05-01 21:11:11.079 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 1: com.himanshu.departmentalStore.model.Product@4bbaaf1b
2024-05-01 21:11:11.079 [main] INFO  --- c.h.d.controller.ProductController     :   Updated product with ID 1: com.himanshu.departmentalStore.model.Product@4bbaaf1b
2024-05-01 21:11:11.083 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch all products
2024-05-01 21:11:11.084 [main] INFO  --- c.h.d.controller.ProductController     :   Returning 2 products
2024-05-01 21:11:11.087 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 1
2024-05-01 21:11:11.088 [main] INFO  --- c.h.d.controller.ProductController     :   Product with ID 1 deleted successfully
2024-05-01 21:11:11.093 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to save a new product: com.himanshu.departmentalStore.model.Product@5f36046
2024-05-01 21:11:11.093 [main] INFO  --- c.h.d.controller.ProductController     :   Saved product: com.himanshu.departmentalStore.model.Product@5f36046
2024-05-01 21:11:11.231 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 1
2024-05-01 21:11:11.234 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 1
2024-05-01 21:11:11.238 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching all active discounts
2024-05-01 21:11:11.242 [main] INFO  --- c.h.d.service.DiscountService     :   Saving discount: com.himanshu.departmentalStore.model.Discount@2a2632d9
2024-05-01 21:11:11.245 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 1: com.himanshu.departmentalStore.model.Discount@64578e76
2024-05-01 21:11:11.549 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 1
2024-05-01 21:11:11.550 [main] INFO  --- c.h.d.controller.CustomerController     :   Returning customer with ID 1: com.himanshu.departmentalStore.model.Customer@2348e36
2024-05-01 21:11:11.553 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 1
2024-05-01 21:11:11.554 [main] INFO  --- c.h.d.controller.CustomerController     :   Customer with ID 1 deleted successfully
2024-05-01 21:11:11.557 [main] INFO  --- c.h.d.controller.CustomerController     :   Received request to retrieve all customers.
2024-05-01 21:11:11.558 [main] INFO  --- c.h.d.controller.CustomerController     :   Retrieved 2 customers.
2024-05-01 21:11:11.562 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to save a new customer: com.himanshu.departmentalStore.model.Customer@4608c405
2024-05-01 21:11:11.562 [main] INFO  --- c.h.d.controller.CustomerController     :   Saved customer: com.himanshu.departmentalStore.model.Customer@4608c405
2024-05-01 21:11:11.566 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 1: com.himanshu.departmentalStore.model.Customer@618b995b
2024-05-01 21:11:11.566 [main] INFO  --- c.h.d.controller.CustomerController     :   Updated customer with ID 1: com.himanshu.departmentalStore.model.Customer@618b995b
2024-05-01 21:11:11.572 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.BackorderIntegrationTest]: BackorderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:11:11.577 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.BackorderIntegrationTest
2024-05-01 21:11:11.616 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 142
2024-05-01 21:11:11.616 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 142
2024-05-01 21:11:11.623 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorder with Id: 142
2024-05-01 21:11:11.703 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 143: BackOrderRequestBody(productId=441, customerId=460, quantity=200)
2024-05-01 21:11:11.708 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:11:11.709 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:11:11.710 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:11:11.726 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder updated with ID : 143
2024-05-01 21:11:11.797 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 244
2024-05-01 21:11:11.797 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 244
2024-05-01 21:11:11.803 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 244
2024-05-01 21:11:11.872 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 245
2024-05-01 21:11:11.872 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:11:11.877 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 245
2024-05-01 21:11:11.942 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to create new backorder with request body: BackOrderRequestBody(productId=444, customerId=463, quantity=100)
2024-05-01 21:11:11.943 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:11:11.943 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:11:11.943 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:11:11.949 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder created with ID : 146
2024-05-01 21:11:12.021 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch all backorders
2024-05-01 21:11:12.022 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorders
2024-05-01 21:11:12.031 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorders
2024-05-01 21:11:12.106 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 248: BackOrderRequestBody(productId=null, customerId=null, quantity=200)
2024-05-01 21:11:12.106 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:11:12.107 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:11:12.107 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:11:12.111 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 248
2024-05-01 21:11:12.186 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 149
2024-05-01 21:11:12.186 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:11:12.198 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder deleted with ID: 149
2024-05-01 21:11:12.228 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.CustomerIntegrationTest]: CustomerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:11:12.231 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.CustomerIntegrationTest
2024-05-01 21:11:12.250 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 467
2024-05-01 21:11:12.250 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 467
2024-05-01 21:11:12.255 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched customer: com.himanshu.departmentalStore.model.Customer@67ebf27a
2024-05-01 21:11:12.255 [main] INFO  --- c.h.d.controller.CustomerController     :   Returning customer with ID 467: com.himanshu.departmentalStore.model.Customer@67ebf27a
2024-05-01 21:11:12.286 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 468
2024-05-01 21:11:12.286 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 468
2024-05-01 21:11:12.300 [main] INFO  --- c.h.d.controller.CustomerController     :   Customer with ID 468 deleted successfully
2024-05-01 21:11:12.327 [main] INFO  --- c.h.d.controller.CustomerController     :   Received request to retrieve all customers.
2024-05-01 21:11:12.327 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching all customers from the database
2024-05-01 21:11:12.333 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched 1 customers
2024-05-01 21:11:12.334 [main] INFO  --- c.h.d.controller.CustomerController     :   Retrieved 1 customers.
2024-05-01 21:11:12.362 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 570
2024-05-01 21:11:12.362 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 570
2024-05-01 21:11:12.367 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 570
2024-05-01 21:11:12.394 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to save a new customer: com.himanshu.departmentalStore.model.Customer@53ee4e18
2024-05-01 21:11:12.394 [main] INFO  --- c.h.d.service.CustomerService     :   Saving new customer: com.himanshu.departmentalStore.model.Customer@53ee4e18
2024-05-01 21:11:12.400 [main] INFO  --- c.h.d.controller.CustomerController     :   Saved customer: com.himanshu.departmentalStore.model.Customer@53ee4e18
2024-05-01 21:11:12.435 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 572: com.himanshu.departmentalStore.model.Customer@3980d430
2024-05-01 21:11:12.436 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 572: com.himanshu.departmentalStore.model.Customer@3980d430
2024-05-01 21:11:12.444 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID 572 not found
2024-05-01 21:11:12.445 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 572
2024-05-01 21:11:12.473 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 473: com.himanshu.departmentalStore.model.Customer@556ef86d
2024-05-01 21:11:12.473 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 473: com.himanshu.departmentalStore.model.Customer@556ef86d
2024-05-01 21:11:12.484 [main] INFO  --- c.h.d.controller.CustomerController     :   Updated customer with ID 473: com.himanshu.departmentalStore.model.Customer@6cf87ba6
2024-05-01 21:11:12.510 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 574
2024-05-01 21:11:12.511 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 574
2024-05-01 21:11:12.515 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 574
2024-05-01 21:11:12.669 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1
2024-05-01 21:11:12.670 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@5699119e
2024-05-01 21:11:12.674 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1: com.himanshu.departmentalStore.model.Product@670e1bdf
2024-05-01 21:11:12.678 [main] INFO  --- c.h.d.service.ProductService     :   Fetching all products from the database
2024-05-01 21:11:12.679 [main] INFO  --- c.h.d.service.ProductService     :   Fetched 2 products
2024-05-01 21:11:12.683 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 1
2024-05-01 21:11:12.688 [main] INFO  --- c.h.d.service.ProductService     :   Saving new product: com.himanshu.departmentalStore.model.Product@51f86cf4
2024-05-01 21:11:13.001 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID null
2024-05-01 21:11:13.009 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID -1
2024-05-01 21:11:13.013 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID -1: com.himanshu.departmentalStore.model.Product@230214e0
2024-05-01 21:11:13.014 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID -1 not found
2024-05-01 21:11:13.018 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1: null
2024-05-01 21:11:13.018 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID 1 not found
2024-05-01 21:11:13.023 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID -1
2024-05-01 21:11:13.242 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 1
2024-05-01 21:11:13.243 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched customer: com.himanshu.departmentalStore.model.Customer@2f3f10a9
2024-05-01 21:11:13.245 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 1
2024-05-01 21:11:13.248 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching all customers from the database
2024-05-01 21:11:13.248 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched 2 customers
2024-05-01 21:11:13.252 [main] INFO  --- c.h.d.service.CustomerService     :   Saving new customer: com.himanshu.departmentalStore.model.Customer@22832f3c
2024-05-01 21:11:13.256 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1: com.himanshu.departmentalStore.model.Customer@3a828a27
2024-05-01 21:11:13.261 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 1
2024-05-01 21:11:13.262 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorder with Id: 1
2024-05-01 21:11:13.267 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 1: BackOrderRequestBody(productId=1, customerId=1, quantity=10)
2024-05-01 21:11:13.267 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:11:13.267 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:11:13.267 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder updated with ID : 1
2024-05-01 21:11:13.273 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to create new backorder with request body: BackOrderRequestBody(productId=1, customerId=1, quantity=5)
2024-05-01 21:11:13.273 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:11:13.273 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:11:13.274 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder created with ID : 1
2024-05-01 21:11:13.279 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch all backorders
2024-05-01 21:11:13.279 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorders
2024-05-01 21:11:13.283 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 1
2024-05-01 21:11:13.283 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder deleted with ID: 1
2024-05-01 21:11:13.460 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:11:13.470 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:11:13.477 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:11:13.484 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : -1
2024-05-01 21:11:13.490 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:11:13.497 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: -1
2024-05-01 21:11:13.503 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID -1: com.himanshu.departmentalStore.model.Discount@ec7e41d
2024-05-01 21:11:13.512 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: -1
2024-05-01 21:11:13.517 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 1: null
2024-05-01 21:11:13.520 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: null
2024-05-01 21:11:13.526 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 1
2024-05-01 21:11:13.530 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:11:13.535 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:11:13.540 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorders
2024-05-01 21:11:13.543 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:11:13.554 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:11:13.556 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:11:13.556 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 21:11:13.557 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 21:11:13.557 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 21:11:13.558 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 1
2024-05-01 21:11:13.572 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 1
2024-05-01 21:11:13.579 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:11:13.581 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:11:13.581 [main] ERROR --- c.h.d.service.OrderService     :   No change in previous and current quantity : not updated
2024-05-01 21:11:13.586 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:11:13.601 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:11:13.606 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 21:11:13.622 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 21:11:13.643 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:11:13.644 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Shutdown initiated...
2024-05-01 21:11:13.653 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Shutdown completed.
2024-05-01 21:19:48.526 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 1
2024-05-01 21:19:48.571 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 21:19:48.572 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 21:19:48.572 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 21:19:48.573 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 1
2024-05-01 21:19:48.631 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:19:48.632 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:19:48.633 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 21:19:48.634 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:19:48.635 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 21:19:48.653 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 21:19:48.654 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 21:19:48.664 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 1
2024-05-01 21:19:48.666 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 1, order : com.himanshu.departmentalStore.model.Order@278667fd
2024-05-01 21:19:48.679 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:19:48.680 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:19:48.680 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:19:48.681 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:19:48.681 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:19:48.682 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:19:48.683 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:19:50.027 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 21:19:50.095 [main] INFO  --- c.h.d.repository.OrderRepositoryTest     :   Starting OrderRepositoryTest using Java 21.0.2 with PID 16748 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:19:50.096 [main] DEBUG --- c.h.d.repository.OrderRepositoryTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:19:50.097 [main] INFO  --- c.h.d.repository.OrderRepositoryTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:19:52.739 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:19:52.907 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 147 ms. Found 5 JPA repository interfaces.
2024-05-01 21:19:54.361 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 21:19:55.267 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@563ab6d5
2024-05-01 21:19:55.271 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 21:19:55.640 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 21:19:55.640 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 21:19:55.640 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 21:19:55.699 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:19:55.810 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.070s)
2024-05-01 21:19:55.845 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:19:55.851 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:19:56.111 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:19:56.239 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 21:19:56.312 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:19:56.556 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:19:58.600 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:19:58.752 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:20:01.403 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:20:03.654 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:20:03.836 [main] INFO  --- c.h.d.repository.OrderRepositoryTest     :   Started OrderRepositoryTest in 14.313 seconds (process running for 21.574)
2024-05-01 21:20:05.992 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:20:06.029 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 21:20:06.096 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 16748 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:20:06.097 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:20:06.098 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:20:06.903 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:20:06.943 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2024-05-01 21:20:07.429 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 21:20:07.454 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:20:07.459 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 21:20:07.460 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 21:20:07.634 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 21:20:07.635 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 1533 ms
2024-05-01 21:20:07.951 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Starting...
2024-05-01 21:20:08.058 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1748e38e
2024-05-01 21:20:08.059 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Start completed.
2024-05-01 21:20:08.089 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:20:08.121 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.021s)
2024-05-01 21:20:08.135 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:20:08.138 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:20:08.206 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:20:08.212 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:20:08.225 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:20:08.592 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:20:08.656 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:20:09.159 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:20:09.876 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 21:20:09.877 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 21:20:09.886 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:20:09.901 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 24 ms
2024-05-01 21:20:09.976 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:20:10.029 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64908 (http) with context path ''
2024-05-01 21:20:10.046 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 4.01 seconds (process running for 27.784)
2024-05-01 21:20:10.328 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 238
2024-05-01 21:20:10.329 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 238
2024-05-01 21:20:10.340 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 238
2024-05-01 21:20:10.724 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:20:10.724 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:20:10.731 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:20:10.732 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:20:10.732 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 461
2024-05-01 21:20:10.737 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@7b833a3c
2024-05-01 21:20:10.738 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:20:10.738 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:20:10.738 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:20:10.738 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:20:10.738 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 461: com.himanshu.departmentalStore.model.Product@7b833a3c
2024-05-01 21:20:10.761 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:20:10.761 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:20:10.826 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1452, SQLState: 23000
2024-05-01 21:20:10.826 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 21:20:10.899 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Global Exception: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))] [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; SQL [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; constraint [null]
2024-05-01 21:20:11.008 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 140
2024-05-01 21:20:11.008 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 140
2024-05-01 21:20:11.016 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 21:20:11.016 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 462: com.himanshu.departmentalStore.model.Product@4cd85d52
2024-05-01 21:20:11.033 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 21:20:11.033 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 21:20:11.033 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder associated with Ordered product
2024-05-01 21:20:11.033 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder having productId: 462
2024-05-01 21:20:11.055 [main] INFO  --- c.h.d.service.BackorderService     :   performing operation on backorder.
2024-05-01 21:20:11.063 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 140
2024-05-01 21:20:11.063 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 140
2024-05-01 21:20:11.160 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 141.
2024-05-01 21:20:11.160 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:20:11.161 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:20:11.161 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 141
2024-05-01 21:20:11.169 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:20:11.169 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 21:20:11.169 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:20:11.170 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 463: com.himanshu.departmentalStore.model.Product@4b7305a4
2024-05-01 21:20:11.184 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 21:20:11.193 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 21:20:11.329 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 21:20:11.329 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 21:20:11.339 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 21:20:11.437 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:20:11.438 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:20:11.438 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:20:11.438 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:20:11.439 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 465
2024-05-01 21:20:11.444 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@11214149
2024-05-01 21:20:11.445 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:20:11.445 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:20:11.445 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:20:11.445 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:20:11.445 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 465: com.himanshu.departmentalStore.model.Product@11214149
2024-05-01 21:20:11.460 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:20:11.461 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:20:11.469 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 21:20:11.566 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 144
2024-05-01 21:20:11.566 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 144
2024-05-01 21:20:11.573 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 144, order : com.himanshu.departmentalStore.model.Order@1a80c87b
2024-05-01 21:20:11.574 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 144, order : com.himanshu.departmentalStore.model.Order@1a80c87b
2024-05-01 21:20:11.672 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 245
2024-05-01 21:20:11.672 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 245
2024-05-01 21:20:11.679 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 245
2024-05-01 21:20:11.769 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 246.
2024-05-01 21:20:11.769 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:20:11.769 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:20:11.769 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 246
2024-05-01 21:20:11.774 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 246
2024-05-01 21:20:11.854 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:20:11.854 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:20:11.854 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:20:11.855 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:20:11.855 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 469
2024-05-01 21:20:11.859 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@214b9b5
2024-05-01 21:20:11.859 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:20:11.860 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 21:20:11.860 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 21:20:11.860 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 21:20:11.860 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:20:11.868 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 150
2024-05-01 21:20:11.869 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Custom Exception: Ordered quantity is more then quantity left in stock : Backorder created
2024-05-01 21:20:11.946 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:20:11.947 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:20:11.947 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:20:11.948 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:20:11.948 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 570
2024-05-01 21:20:11.952 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 570
2024-05-01 21:20:11.988 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.ProductIntegrationTest]: ProductIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:20:11.993 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.ProductIntegrationTest
2024-05-01 21:20:12.012 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 471
2024-05-01 21:20:12.012 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 471
2024-05-01 21:20:12.016 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@56785e55
2024-05-01 21:20:12.016 [main] INFO  --- c.h.d.controller.ProductController     :   Returning product with ID 471: com.himanshu.departmentalStore.model.Product@56785e55
2024-05-01 21:20:12.064 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 472: com.himanshu.departmentalStore.model.Product@6557ee1f
2024-05-01 21:20:12.064 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 472: com.himanshu.departmentalStore.model.Product@6557ee1f
2024-05-01 21:20:12.081 [main] INFO  --- c.h.d.controller.ProductController     :   Updated product with ID 472: com.himanshu.departmentalStore.model.Product@5464ad2b
2024-05-01 21:20:12.113 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch all products
2024-05-01 21:20:12.113 [main] INFO  --- c.h.d.service.ProductService     :   Fetching all products from the database
2024-05-01 21:20:12.117 [main] INFO  --- c.h.d.service.ProductService     :   Fetched 1 products
2024-05-01 21:20:12.118 [main] INFO  --- c.h.d.controller.ProductController     :   Returning 1 products
2024-05-01 21:20:12.154 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 574: com.himanshu.departmentalStore.model.Product@6bbbfc05
2024-05-01 21:20:12.155 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 574: com.himanshu.departmentalStore.model.Product@6bbbfc05
2024-05-01 21:20:12.159 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID 574 not found
2024-05-01 21:20:12.160 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 574
2024-05-01 21:20:12.189 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 475
2024-05-01 21:20:12.190 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 475
2024-05-01 21:20:12.202 [main] INFO  --- c.h.d.controller.ProductController     :   Product with ID 475 deleted successfully
2024-05-01 21:20:12.228 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to save a new product: com.himanshu.departmentalStore.model.Product@276bba19
2024-05-01 21:20:12.228 [main] INFO  --- c.h.d.service.ProductService     :   Saving new product: com.himanshu.departmentalStore.model.Product@276bba19
2024-05-01 21:20:12.235 [main] INFO  --- c.h.d.controller.ProductController     :   Saved product: com.himanshu.departmentalStore.model.Product@276bba19
2024-05-01 21:20:12.275 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 577
2024-05-01 21:20:12.276 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 577
2024-05-01 21:20:12.280 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 577
2024-05-01 21:20:12.314 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 578
2024-05-01 21:20:12.314 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 578
2024-05-01 21:20:12.320 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 578
2024-05-01 21:20:13.257 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 1
2024-05-01 21:20:13.259 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 1
2024-05-01 21:20:13.270 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 1.
2024-05-01 21:20:13.270 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:20:13.270 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:20:13.271 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 21:20:13.277 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 21:20:13.283 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 1
2024-05-01 21:20:13.284 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 1, order : com.himanshu.departmentalStore.model.Order@34c1c7ea
2024-05-01 21:20:13.292 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:20:13.293 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:20:13.293 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:20:13.294 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 21:20:13.299 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.DiscountIntegrationTest]: DiscountIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:20:13.303 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.DiscountIntegrationTest
2024-05-01 21:20:13.330 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 294
2024-05-01 21:20:13.330 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 294
2024-05-01 21:20:13.336 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched discounts with Id : 294, discount : com.himanshu.departmentalStore.model.Discount@273b3afc
2024-05-01 21:20:13.376 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 295
2024-05-01 21:20:13.376 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 295
2024-05-01 21:20:13.418 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch all discounts
2024-05-01 21:20:13.419 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching all discounts
2024-05-01 21:20:13.428 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched all discounts : [com.himanshu.departmentalStore.model.Discount@26b694cc]
2024-05-01 21:20:13.466 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 397
2024-05-01 21:20:13.466 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 397
2024-05-01 21:20:13.470 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 397
2024-05-01 21:20:13.510 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to create new discount: com.himanshu.departmentalStore.model.Discount@65618897
2024-05-01 21:20:13.511 [main] INFO  --- c.h.d.service.DiscountService     :   Saving discount: com.himanshu.departmentalStore.model.Discount@65618897
2024-05-01 21:20:13.583 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 399: com.himanshu.departmentalStore.model.Discount@1ef15e13
2024-05-01 21:20:13.584 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 399: com.himanshu.departmentalStore.model.Discount@1ef15e13
2024-05-01 21:20:13.594 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 399
2024-05-01 21:20:13.740 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 300: com.himanshu.departmentalStore.model.Discount@2a590e2f
2024-05-01 21:20:13.741 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 300: com.himanshu.departmentalStore.model.Discount@2a590e2f
2024-05-01 21:20:13.875 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 401
2024-05-01 21:20:13.875 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 401
2024-05-01 21:20:13.880 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 401
2024-05-01 21:20:13.933 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 1
2024-05-01 21:20:13.934 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched discounts with Id : 1, discount : com.himanshu.departmentalStore.model.Discount@1dcb10b3
2024-05-01 21:20:13.938 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 1
2024-05-01 21:20:13.944 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch all active discounts
2024-05-01 21:20:13.945 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched all active discounts : [com.himanshu.departmentalStore.model.Discount@5b01f226, com.himanshu.departmentalStore.model.Discount@1e0a3f7d]
2024-05-01 21:20:13.955 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to create new discount: com.himanshu.departmentalStore.model.Discount@191a957
2024-05-01 21:20:13.961 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 1: com.himanshu.departmentalStore.model.Discount@1aebd781
2024-05-01 21:20:14.150 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID -1
2024-05-01 21:20:14.162 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1: null
2024-05-01 21:20:14.162 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID 1 not found
2024-05-01 21:20:14.168 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID -1: com.himanshu.departmentalStore.model.Customer@14e4d55
2024-05-01 21:20:14.169 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID -1 not found
2024-05-01 21:20:14.174 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID -1
2024-05-01 21:20:14.179 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID null
2024-05-01 21:20:14.185 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID -1
2024-05-01 21:20:14.191 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 1
2024-05-01 21:20:14.192 [main] INFO  --- c.h.d.controller.ProductController     :   Returning product with ID 1: com.himanshu.departmentalStore.model.Product@644053d3
2024-05-01 21:20:14.196 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 1: com.himanshu.departmentalStore.model.Product@66692051
2024-05-01 21:20:14.197 [main] INFO  --- c.h.d.controller.ProductController     :   Updated product with ID 1: com.himanshu.departmentalStore.model.Product@66692051
2024-05-01 21:20:14.200 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch all products
2024-05-01 21:20:14.201 [main] INFO  --- c.h.d.controller.ProductController     :   Returning 2 products
2024-05-01 21:20:14.205 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 1
2024-05-01 21:20:14.206 [main] INFO  --- c.h.d.controller.ProductController     :   Product with ID 1 deleted successfully
2024-05-01 21:20:14.210 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to save a new product: com.himanshu.departmentalStore.model.Product@337eb1b4
2024-05-01 21:20:14.211 [main] INFO  --- c.h.d.controller.ProductController     :   Saved product: com.himanshu.departmentalStore.model.Product@337eb1b4
2024-05-01 21:20:14.344 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 1
2024-05-01 21:20:14.349 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 1
2024-05-01 21:20:14.353 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching all active discounts
2024-05-01 21:20:14.357 [main] INFO  --- c.h.d.service.DiscountService     :   Saving discount: com.himanshu.departmentalStore.model.Discount@27051ae8
2024-05-01 21:20:14.362 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 1: com.himanshu.departmentalStore.model.Discount@7ada2568
2024-05-01 21:20:14.742 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 1
2024-05-01 21:20:14.743 [main] INFO  --- c.h.d.controller.CustomerController     :   Returning customer with ID 1: com.himanshu.departmentalStore.model.Customer@562c6d5c
2024-05-01 21:20:14.746 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 1
2024-05-01 21:20:14.747 [main] INFO  --- c.h.d.controller.CustomerController     :   Customer with ID 1 deleted successfully
2024-05-01 21:20:14.751 [main] INFO  --- c.h.d.controller.CustomerController     :   Received request to retrieve all customers.
2024-05-01 21:20:14.752 [main] INFO  --- c.h.d.controller.CustomerController     :   Retrieved 2 customers.
2024-05-01 21:20:14.755 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to save a new customer: com.himanshu.departmentalStore.model.Customer@61458ff8
2024-05-01 21:20:14.756 [main] INFO  --- c.h.d.controller.CustomerController     :   Saved customer: com.himanshu.departmentalStore.model.Customer@61458ff8
2024-05-01 21:20:14.761 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 1: com.himanshu.departmentalStore.model.Customer@720574a4
2024-05-01 21:20:14.762 [main] INFO  --- c.h.d.controller.CustomerController     :   Updated customer with ID 1: com.himanshu.departmentalStore.model.Customer@720574a4
2024-05-01 21:20:14.768 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.BackorderIntegrationTest]: BackorderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:20:14.774 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.BackorderIntegrationTest
2024-05-01 21:20:14.814 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 157
2024-05-01 21:20:14.814 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 157
2024-05-01 21:20:14.821 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorder with Id: 157
2024-05-01 21:20:14.903 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 158: BackOrderRequestBody(productId=486, customerId=505, quantity=200)
2024-05-01 21:20:14.908 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:20:14.910 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:20:14.910 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:20:14.927 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder updated with ID : 158
2024-05-01 21:20:14.999 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 259
2024-05-01 21:20:15.000 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 259
2024-05-01 21:20:15.005 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 259
2024-05-01 21:20:15.076 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 260
2024-05-01 21:20:15.076 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:20:15.082 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 260
2024-05-01 21:20:15.148 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to create new backorder with request body: BackOrderRequestBody(productId=489, customerId=508, quantity=100)
2024-05-01 21:20:15.148 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:20:15.149 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:20:15.149 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:20:15.155 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder created with ID : 161
2024-05-01 21:20:15.226 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch all backorders
2024-05-01 21:20:15.226 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorders
2024-05-01 21:20:15.235 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorders
2024-05-01 21:20:15.310 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 263: BackOrderRequestBody(productId=null, customerId=null, quantity=200)
2024-05-01 21:20:15.310 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:20:15.310 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:20:15.311 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:20:15.314 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 263
2024-05-01 21:20:15.385 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 164
2024-05-01 21:20:15.386 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:20:15.398 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder deleted with ID: 164
2024-05-01 21:20:15.427 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.CustomerIntegrationTest]: CustomerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:20:15.431 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.CustomerIntegrationTest
2024-05-01 21:20:15.448 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 512
2024-05-01 21:20:15.449 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 512
2024-05-01 21:20:15.452 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched customer: com.himanshu.departmentalStore.model.Customer@7c609e43
2024-05-01 21:20:15.452 [main] INFO  --- c.h.d.controller.CustomerController     :   Returning customer with ID 512: com.himanshu.departmentalStore.model.Customer@7c609e43
2024-05-01 21:20:15.481 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 513
2024-05-01 21:20:15.481 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 513
2024-05-01 21:20:15.491 [main] INFO  --- c.h.d.controller.CustomerController     :   Customer with ID 513 deleted successfully
2024-05-01 21:20:15.516 [main] INFO  --- c.h.d.controller.CustomerController     :   Received request to retrieve all customers.
2024-05-01 21:20:15.516 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching all customers from the database
2024-05-01 21:20:15.521 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched 1 customers
2024-05-01 21:20:15.521 [main] INFO  --- c.h.d.controller.CustomerController     :   Retrieved 1 customers.
2024-05-01 21:20:15.550 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 615
2024-05-01 21:20:15.550 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 615
2024-05-01 21:20:15.555 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 615
2024-05-01 21:20:15.580 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to save a new customer: com.himanshu.departmentalStore.model.Customer@79bd2d87
2024-05-01 21:20:15.581 [main] INFO  --- c.h.d.service.CustomerService     :   Saving new customer: com.himanshu.departmentalStore.model.Customer@79bd2d87
2024-05-01 21:20:15.588 [main] INFO  --- c.h.d.controller.CustomerController     :   Saved customer: com.himanshu.departmentalStore.model.Customer@79bd2d87
2024-05-01 21:20:15.617 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 617: com.himanshu.departmentalStore.model.Customer@7f941f5a
2024-05-01 21:20:15.617 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 617: com.himanshu.departmentalStore.model.Customer@7f941f5a
2024-05-01 21:20:15.625 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID 617 not found
2024-05-01 21:20:15.625 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 617
2024-05-01 21:20:15.654 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 518: com.himanshu.departmentalStore.model.Customer@23ceb383
2024-05-01 21:20:15.654 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 518: com.himanshu.departmentalStore.model.Customer@23ceb383
2024-05-01 21:20:15.668 [main] INFO  --- c.h.d.controller.CustomerController     :   Updated customer with ID 518: com.himanshu.departmentalStore.model.Customer@48e8de7b
2024-05-01 21:20:15.693 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 619
2024-05-01 21:20:15.693 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 619
2024-05-01 21:20:15.697 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 619
2024-05-01 21:20:15.866 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1
2024-05-01 21:20:15.866 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@7eb39133
2024-05-01 21:20:15.871 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1: com.himanshu.departmentalStore.model.Product@630f63ee
2024-05-01 21:20:15.876 [main] INFO  --- c.h.d.service.ProductService     :   Fetching all products from the database
2024-05-01 21:20:15.876 [main] INFO  --- c.h.d.service.ProductService     :   Fetched 2 products
2024-05-01 21:20:15.880 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 1
2024-05-01 21:20:15.884 [main] INFO  --- c.h.d.service.ProductService     :   Saving new product: com.himanshu.departmentalStore.model.Product@6d77f597
2024-05-01 21:20:16.135 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID null
2024-05-01 21:20:16.142 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID -1
2024-05-01 21:20:16.147 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID -1: com.himanshu.departmentalStore.model.Product@389498a6
2024-05-01 21:20:16.147 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID -1 not found
2024-05-01 21:20:16.151 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1: null
2024-05-01 21:20:16.151 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID 1 not found
2024-05-01 21:20:16.156 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID -1
2024-05-01 21:20:16.415 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 1
2024-05-01 21:20:16.416 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched customer: com.himanshu.departmentalStore.model.Customer@3729ec11
2024-05-01 21:20:16.419 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 1
2024-05-01 21:20:16.424 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching all customers from the database
2024-05-01 21:20:16.424 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched 2 customers
2024-05-01 21:20:16.428 [main] INFO  --- c.h.d.service.CustomerService     :   Saving new customer: com.himanshu.departmentalStore.model.Customer@5b232b89
2024-05-01 21:20:16.432 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1: com.himanshu.departmentalStore.model.Customer@5c7ad877
2024-05-01 21:20:16.439 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 1
2024-05-01 21:20:16.440 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorder with Id: 1
2024-05-01 21:20:16.444 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 1: BackOrderRequestBody(productId=1, customerId=1, quantity=10)
2024-05-01 21:20:16.445 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:20:16.445 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:20:16.446 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder updated with ID : 1
2024-05-01 21:20:16.450 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to create new backorder with request body: BackOrderRequestBody(productId=1, customerId=1, quantity=5)
2024-05-01 21:20:16.451 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:20:16.451 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:20:16.451 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder created with ID : 1
2024-05-01 21:20:16.455 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch all backorders
2024-05-01 21:20:16.456 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorders
2024-05-01 21:20:16.462 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 1
2024-05-01 21:20:16.462 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder deleted with ID: 1
2024-05-01 21:20:16.642 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:20:16.648 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:20:16.653 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:20:16.659 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : -1
2024-05-01 21:20:16.664 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:20:16.670 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: -1
2024-05-01 21:20:16.676 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID -1: com.himanshu.departmentalStore.model.Discount@54c4b07
2024-05-01 21:20:16.682 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: -1
2024-05-01 21:20:16.685 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 1: null
2024-05-01 21:20:16.689 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: null
2024-05-01 21:20:16.695 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 1
2024-05-01 21:20:16.699 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:20:16.704 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:20:16.707 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorders
2024-05-01 21:20:16.711 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:20:16.718 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:20:16.719 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:20:16.719 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 21:20:16.719 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 21:20:16.720 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 21:20:16.720 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 1
2024-05-01 21:20:16.726 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 1
2024-05-01 21:20:16.730 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:20:16.731 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:20:16.731 [main] ERROR --- c.h.d.service.OrderService     :   No change in previous and current quantity : not updated
2024-05-01 21:20:16.736 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:20:16.753 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:20:16.757 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 21:20:16.770 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 21:20:16.789 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:20:16.790 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Shutdown initiated...
2024-05-01 21:20:16.798 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Shutdown completed.
2024-05-01 21:22:14.822 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 1
2024-05-01 21:22:14.862 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 21:22:14.863 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 21:22:14.863 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 21:22:14.864 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 1
2024-05-01 21:22:14.927 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:22:14.928 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:22:14.929 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 21:22:14.929 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:22:14.931 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 21:22:14.948 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 21:22:14.949 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 21:22:14.964 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 1
2024-05-01 21:22:14.966 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 1, order : com.himanshu.departmentalStore.model.Order@e042c99
2024-05-01 21:22:14.979 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:22:14.980 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:22:14.981 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:22:14.982 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:22:14.982 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:22:14.982 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:22:14.982 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:22:16.277 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 21:22:16.345 [main] INFO  --- c.h.d.repository.OrderRepositoryTest     :   Starting OrderRepositoryTest using Java 21.0.2 with PID 8708 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:22:16.346 [main] DEBUG --- c.h.d.repository.OrderRepositoryTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:22:16.348 [main] INFO  --- c.h.d.repository.OrderRepositoryTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:22:18.864 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:22:19.000 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 119 ms. Found 5 JPA repository interfaces.
2024-05-01 21:22:20.405 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 21:22:21.269 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30adae45
2024-05-01 21:22:21.274 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 21:22:21.563 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 21:22:21.564 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 21:22:21.564 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 21:22:21.609 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:22:21.719 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.071s)
2024-05-01 21:22:21.752 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:22:21.759 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:22:22.038 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:22:22.228 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 21:22:22.320 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:22:22.590 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:22:24.278 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:22:24.403 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:22:26.808 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:22:28.998 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:22:29.166 [main] INFO  --- c.h.d.repository.OrderRepositoryTest     :   Started OrderRepositoryTest in 13.403 seconds (process running for 19.543)
2024-05-01 21:22:31.101 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.OrderIntegrationTest]: OrderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:22:31.142 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.OrderIntegrationTest
2024-05-01 21:22:31.211 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Starting OrderIntegrationTest using Java 21.0.2 with PID 8708 (started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:22:31.212 [main] DEBUG --- c.h.d.i.OrderIntegrationTest     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:22:31.213 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:22:31.905 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:22:31.944 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 38 ms. Found 5 JPA repository interfaces.
2024-05-01 21:22:32.409 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 0 (http)
2024-05-01 21:22:32.462 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:22:32.466 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 21:22:32.467 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 21:22:32.654 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 21:22:32.655 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 1439 ms
2024-05-01 21:22:32.939 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Starting...
2024-05-01 21:22:32.971 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@317f13e9
2024-05-01 21:22:32.972 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Start completed.
2024-05-01 21:22:32.999 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_testing_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:22:33.032 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.021s)
2024-05-01 21:22:33.049 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_testing_departmentalstore_flyway`: 6
2024-05-01 21:22:33.051 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_testing_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:22:33.108 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:22:33.114 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:22:33.124 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:22:33.350 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:22:33.409 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:22:33.860 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:22:34.476 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring TestDispatcherServlet ''
2024-05-01 21:22:34.477 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Initializing Servlet ''
2024-05-01 21:22:34.485 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 1 endpoint(s) beneath base path '/actuator'
2024-05-01 21:22:34.500 [main] INFO  --- o.s.t.w.s.TestDispatcherServlet     :   Completed initialization in 22 ms
2024-05-01 21:22:34.574 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-auto-1"]
2024-05-01 21:22:34.632 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat started on port 64942 (http) with context path ''
2024-05-01 21:22:34.654 [main] INFO  --- c.h.d.i.OrderIntegrationTest     :   Started OrderIntegrationTest in 3.505 seconds (process running for 25.033)
2024-05-01 21:22:34.856 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 253
2024-05-01 21:22:34.857 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 253
2024-05-01 21:22:34.867 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 253
2024-05-01 21:22:35.261 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:22:35.261 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:22:35.271 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:22:35.271 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:22:35.272 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 506
2024-05-01 21:22:35.278 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@569731e
2024-05-01 21:22:35.278 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:22:35.278 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:22:35.279 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:22:35.279 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:22:35.279 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 506: com.himanshu.departmentalStore.model.Product@569731e
2024-05-01 21:22:35.302 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:22:35.303 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:22:35.370 [main] WARN  --- o.h.e.jdbc.spi.SqlExceptionHelper     :   SQL Error: 1452, SQLState: 23000
2024-05-01 21:22:35.372 [main] ERROR --- o.h.e.jdbc.spi.SqlExceptionHelper     :   Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))
2024-05-01 21:22:35.392 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Global Exception: could not execute statement [Cannot add or update a child row: a foreign key constraint fails (`jpa_testing_departmentalstore_flyway`.`customer_order`, CONSTRAINT `customer_order_ibfk_2` FOREIGN KEY (`customer_id`) REFERENCES `customer` (`id`))] [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; SQL [insert into customer_order (amount,customer_id,discount_id,product_id,quantity,timestamp) values (?,?,?,?,?,?)]; constraint [null]
2024-05-01 21:22:35.492 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 155
2024-05-01 21:22:35.493 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 155
2024-05-01 21:22:35.499 [main] INFO  --- c.h.d.service.OrderService     :   Updating product
2024-05-01 21:22:35.499 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 507: com.himanshu.departmentalStore.model.Product@ff2e200
2024-05-01 21:22:35.515 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased in product
2024-05-01 21:22:35.515 [main] INFO  --- c.h.d.service.OrderService     :   Checking backorder which can be fulfilled
2024-05-01 21:22:35.515 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder associated with Ordered product
2024-05-01 21:22:35.515 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorder having productId: 507
2024-05-01 21:22:35.537 [main] INFO  --- c.h.d.service.BackorderService     :   performing operation on backorder.
2024-05-01 21:22:35.544 [main] INFO  --- c.h.d.service.OrderService     :   Order deleted with Id : 155
2024-05-01 21:22:35.544 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 155
2024-05-01 21:22:35.637 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 156.
2024-05-01 21:22:35.637 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:22:35.638 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:22:35.638 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 156
2024-05-01 21:22:35.644 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:22:35.644 [main] INFO  --- c.h.d.service.OrderService     :   Product quantity increased : Checking is Product available
2024-05-01 21:22:35.644 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:22:35.644 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 508: com.himanshu.departmentalStore.model.Product@b67503a
2024-05-01 21:22:35.656 [main] INFO  --- c.h.d.service.OrderService     :   Updated Order, product, orderAmount
2024-05-01 21:22:35.664 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 21:22:35.775 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 21:22:35.775 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders
2024-05-01 21:22:35.786 [main] INFO  --- c.h.d.service.OrderService     :   Order Fetched
2024-05-01 21:22:35.891 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:22:35.892 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:22:35.892 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:22:35.892 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:22:35.892 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 510
2024-05-01 21:22:35.898 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@1f953226
2024-05-01 21:22:35.898 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:22:35.899 [main] INFO  --- c.h.d.service.OrderService     :   Product available.
2024-05-01 21:22:35.899 [main] INFO  --- c.h.d.service.OrderService     :   Calculating total amount
2024-05-01 21:22:35.899 [main] INFO  --- c.h.d.service.OrderService     :   Amount updated in order
2024-05-01 21:22:35.899 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 510: com.himanshu.departmentalStore.model.Product@1f953226
2024-05-01 21:22:35.911 [main] INFO  --- c.h.d.service.OrderService     :   Updating product quantity
2024-05-01 21:22:35.912 [main] INFO  --- c.h.d.service.OrderService     :   Saving order
2024-05-01 21:22:35.919 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 21:22:36.052 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 159
2024-05-01 21:22:36.052 [main] INFO  --- c.h.d.service.OrderService     :   Fetching all orders with Id : 159
2024-05-01 21:22:36.058 [main] INFO  --- c.h.d.service.OrderService     :   Order fetched with Id : 159, order : com.himanshu.departmentalStore.model.Order@68db2d5c
2024-05-01 21:22:36.058 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 159, order : com.himanshu.departmentalStore.model.Order@68db2d5c
2024-05-01 21:22:36.152 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 260
2024-05-01 21:22:36.153 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 260
2024-05-01 21:22:36.159 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 260
2024-05-01 21:22:36.276 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 261.
2024-05-01 21:22:36.276 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:22:36.277 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:22:36.277 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 261
2024-05-01 21:22:36.282 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Order not found with Id : 261
2024-05-01 21:22:36.368 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:22:36.368 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:22:36.368 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:22:36.368 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:22:36.369 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 514
2024-05-01 21:22:36.374 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@176950f3
2024-05-01 21:22:36.374 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:22:36.374 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 21:22:36.374 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 21:22:36.375 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 21:22:36.376 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:22:36.383 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 165
2024-05-01 21:22:36.385 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   Custom Exception: Ordered quantity is more then quantity left in stock : Backorder created
2024-05-01 21:22:36.468 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:22:36.468 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:22:36.468 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:22:36.468 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:22:36.469 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 615
2024-05-01 21:22:36.473 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 615
2024-05-01 21:22:36.509 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.ProductIntegrationTest]: ProductIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:22:36.512 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.ProductIntegrationTest
2024-05-01 21:22:36.531 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 516
2024-05-01 21:22:36.532 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 516
2024-05-01 21:22:36.537 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@67aa514a
2024-05-01 21:22:36.537 [main] INFO  --- c.h.d.controller.ProductController     :   Returning product with ID 516: com.himanshu.departmentalStore.model.Product@67aa514a
2024-05-01 21:22:36.587 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 517: com.himanshu.departmentalStore.model.Product@67b5a089
2024-05-01 21:22:36.588 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 517: com.himanshu.departmentalStore.model.Product@67b5a089
2024-05-01 21:22:36.606 [main] INFO  --- c.h.d.controller.ProductController     :   Updated product with ID 517: com.himanshu.departmentalStore.model.Product@1d756c41
2024-05-01 21:22:36.643 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch all products
2024-05-01 21:22:36.643 [main] INFO  --- c.h.d.service.ProductService     :   Fetching all products from the database
2024-05-01 21:22:36.650 [main] INFO  --- c.h.d.service.ProductService     :   Fetched 1 products
2024-05-01 21:22:36.652 [main] INFO  --- c.h.d.controller.ProductController     :   Returning 1 products
2024-05-01 21:22:36.690 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 619: com.himanshu.departmentalStore.model.Product@388f2d15
2024-05-01 21:22:36.690 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 619: com.himanshu.departmentalStore.model.Product@388f2d15
2024-05-01 21:22:36.695 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID 619 not found
2024-05-01 21:22:36.696 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 619
2024-05-01 21:22:36.725 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 520
2024-05-01 21:22:36.726 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 520
2024-05-01 21:22:36.737 [main] INFO  --- c.h.d.controller.ProductController     :   Product with ID 520 deleted successfully
2024-05-01 21:22:36.757 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to save a new product: com.himanshu.departmentalStore.model.Product@169ac0f6
2024-05-01 21:22:36.758 [main] INFO  --- c.h.d.service.ProductService     :   Saving new product: com.himanshu.departmentalStore.model.Product@169ac0f6
2024-05-01 21:22:36.764 [main] INFO  --- c.h.d.controller.ProductController     :   Saved product: com.himanshu.departmentalStore.model.Product@169ac0f6
2024-05-01 21:22:36.795 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 622
2024-05-01 21:22:36.795 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 622
2024-05-01 21:22:36.799 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 622
2024-05-01 21:22:36.831 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 623
2024-05-01 21:22:36.832 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 623
2024-05-01 21:22:36.836 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Product not found with Id : 623
2024-05-01 21:22:37.704 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to delete order with ID: 1
2024-05-01 21:22:37.705 [main] INFO  --- c.h.d.controller.OrderController     :   Order deleted with ID: 1
2024-05-01 21:22:37.714 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to update the order with Id : 1.
2024-05-01 21:22:37.715 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:22:37.715 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:22:37.716 [main] INFO  --- c.h.d.controller.OrderController     :   Order placed
2024-05-01 21:22:37.723 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders.
2024-05-01 21:22:37.728 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to fetch all orders by Id : 1
2024-05-01 21:22:37.729 [main] INFO  --- c.h.d.controller.OrderController     :   Fetched order with id : 1, order : com.himanshu.departmentalStore.model.Order@6b19f4b8
2024-05-01 21:22:37.736 [main] INFO  --- c.h.d.controller.OrderController     :   Received request to create order.
2024-05-01 21:22:37.737 [main] INFO  --- c.h.d.controller.OrderController     :   Converting OrderRequestBody to Order.
2024-05-01 21:22:37.737 [main] INFO  --- c.h.d.controller.OrderController     :   OrderRequestBody converted to Order
2024-05-01 21:22:37.738 [main] INFO  --- c.h.d.controller.OrderController     :   Order Placed.
2024-05-01 21:22:37.743 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.DiscountIntegrationTest]: DiscountIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:22:37.747 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.DiscountIntegrationTest
2024-05-01 21:22:37.771 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 308
2024-05-01 21:22:37.772 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 308
2024-05-01 21:22:37.778 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched discounts with Id : 308, discount : com.himanshu.departmentalStore.model.Discount@19f7107e
2024-05-01 21:22:37.814 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 309
2024-05-01 21:22:37.815 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 309
2024-05-01 21:22:37.853 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch all discounts
2024-05-01 21:22:37.853 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching all discounts
2024-05-01 21:22:37.860 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched all discounts : [com.himanshu.departmentalStore.model.Discount@62785afd]
2024-05-01 21:22:37.892 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 411
2024-05-01 21:22:37.893 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 411
2024-05-01 21:22:37.898 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 411
2024-05-01 21:22:37.932 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to create new discount: com.himanshu.departmentalStore.model.Discount@3b5c0302
2024-05-01 21:22:37.932 [main] INFO  --- c.h.d.service.DiscountService     :   Saving discount: com.himanshu.departmentalStore.model.Discount@3b5c0302
2024-05-01 21:22:37.979 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 413: com.himanshu.departmentalStore.model.Discount@171908b7
2024-05-01 21:22:37.980 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 413: com.himanshu.departmentalStore.model.Discount@171908b7
2024-05-01 21:22:37.987 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 413
2024-05-01 21:22:38.030 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 314: com.himanshu.departmentalStore.model.Discount@326c6ac1
2024-05-01 21:22:38.031 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 314: com.himanshu.departmentalStore.model.Discount@326c6ac1
2024-05-01 21:22:38.093 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 415
2024-05-01 21:22:38.093 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 415
2024-05-01 21:22:38.098 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Discount not found with Id : 415
2024-05-01 21:22:38.121 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch discount by Id : 1
2024-05-01 21:22:38.121 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched discounts with Id : 1, discount : com.himanshu.departmentalStore.model.Discount@70137569
2024-05-01 21:22:38.126 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to delete discount with ID 1
2024-05-01 21:22:38.130 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to Fetch all active discounts
2024-05-01 21:22:38.130 [main] INFO  --- c.h.d.controller.DiscountController     :   Fetched all active discounts : [com.himanshu.departmentalStore.model.Discount@6c4adb44, com.himanshu.departmentalStore.model.Discount@7995399]
2024-05-01 21:22:38.135 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to create new discount: com.himanshu.departmentalStore.model.Discount@4b27821c
2024-05-01 21:22:38.139 [main] INFO  --- c.h.d.controller.DiscountController     :   Received request to update discount with ID 1: com.himanshu.departmentalStore.model.Discount@3c4570f4
2024-05-01 21:22:38.310 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID -1
2024-05-01 21:22:38.320 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1: null
2024-05-01 21:22:38.321 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID 1 not found
2024-05-01 21:22:38.326 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID -1: com.himanshu.departmentalStore.model.Customer@25dd6bc9
2024-05-01 21:22:38.326 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID -1 not found
2024-05-01 21:22:38.330 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID -1
2024-05-01 21:22:38.335 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID null
2024-05-01 21:22:38.341 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID -1
2024-05-01 21:22:38.346 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch product with ID 1
2024-05-01 21:22:38.347 [main] INFO  --- c.h.d.controller.ProductController     :   Returning product with ID 1: com.himanshu.departmentalStore.model.Product@198b9a23
2024-05-01 21:22:38.350 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to update product with ID 1: com.himanshu.departmentalStore.model.Product@5f36046
2024-05-01 21:22:38.351 [main] INFO  --- c.h.d.controller.ProductController     :   Updated product with ID 1: com.himanshu.departmentalStore.model.Product@5f36046
2024-05-01 21:22:38.354 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to fetch all products
2024-05-01 21:22:38.355 [main] INFO  --- c.h.d.controller.ProductController     :   Returning 2 products
2024-05-01 21:22:38.360 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to delete product with ID 1
2024-05-01 21:22:38.360 [main] INFO  --- c.h.d.controller.ProductController     :   Product with ID 1 deleted successfully
2024-05-01 21:22:38.363 [main] INFO  --- c.h.d.controller.ProductController     :   Request received to save a new product: com.himanshu.departmentalStore.model.Product@667d12fe
2024-05-01 21:22:38.364 [main] INFO  --- c.h.d.controller.ProductController     :   Saved product: com.himanshu.departmentalStore.model.Product@667d12fe
2024-05-01 21:22:38.503 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: 1
2024-05-01 21:22:38.508 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: 1
2024-05-01 21:22:38.512 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching all active discounts
2024-05-01 21:22:38.517 [main] INFO  --- c.h.d.service.DiscountService     :   Saving discount: com.himanshu.departmentalStore.model.Discount@7ffcd8df
2024-05-01 21:22:38.522 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 1: com.himanshu.departmentalStore.model.Discount@1bd6c0de
2024-05-01 21:22:38.858 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 1
2024-05-01 21:22:38.859 [main] INFO  --- c.h.d.controller.CustomerController     :   Returning customer with ID 1: com.himanshu.departmentalStore.model.Customer@4608c405
2024-05-01 21:22:38.862 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 1
2024-05-01 21:22:38.863 [main] INFO  --- c.h.d.controller.CustomerController     :   Customer with ID 1 deleted successfully
2024-05-01 21:22:38.868 [main] INFO  --- c.h.d.controller.CustomerController     :   Received request to retrieve all customers.
2024-05-01 21:22:38.868 [main] INFO  --- c.h.d.controller.CustomerController     :   Retrieved 2 customers.
2024-05-01 21:22:38.872 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to save a new customer: com.himanshu.departmentalStore.model.Customer@5c6d1a38
2024-05-01 21:22:38.872 [main] INFO  --- c.h.d.controller.CustomerController     :   Saved customer: com.himanshu.departmentalStore.model.Customer@5c6d1a38
2024-05-01 21:22:38.876 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 1: com.himanshu.departmentalStore.model.Customer@6150e1c5
2024-05-01 21:22:38.877 [main] INFO  --- c.h.d.controller.CustomerController     :   Updated customer with ID 1: com.himanshu.departmentalStore.model.Customer@6150e1c5
2024-05-01 21:22:38.882 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.BackorderIntegrationTest]: BackorderIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:22:38.886 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.BackorderIntegrationTest
2024-05-01 21:22:38.933 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 172
2024-05-01 21:22:38.933 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 172
2024-05-01 21:22:38.940 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorder with Id: 172
2024-05-01 21:22:39.026 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 173: BackOrderRequestBody(productId=531, customerId=550, quantity=200)
2024-05-01 21:22:39.030 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:22:39.032 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:22:39.032 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:22:39.052 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder updated with ID : 173
2024-05-01 21:22:39.130 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 274
2024-05-01 21:22:39.131 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 274
2024-05-01 21:22:39.136 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 274
2024-05-01 21:22:39.207 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 275
2024-05-01 21:22:39.207 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:22:39.212 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 275
2024-05-01 21:22:39.277 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to create new backorder with request body: BackOrderRequestBody(productId=534, customerId=553, quantity=100)
2024-05-01 21:22:39.277 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:22:39.277 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:22:39.277 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:22:39.285 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder created with ID : 176
2024-05-01 21:22:39.361 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch all backorders
2024-05-01 21:22:39.361 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorders
2024-05-01 21:22:39.370 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorders
2024-05-01 21:22:39.450 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 278: BackOrderRequestBody(productId=null, customerId=null, quantity=200)
2024-05-01 21:22:39.451 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:22:39.451 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:22:39.452 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:22:39.456 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Backorder not found with Id : 278
2024-05-01 21:22:39.525 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 179
2024-05-01 21:22:39.525 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:22:39.538 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder deleted with ID: 179
2024-05-01 21:22:39.568 [main] INFO  --- o.s.t.c.s.AnnotationConfigContextLoaderUtils     :   Could not detect default configuration classes for test class [com.himanshu.departmentalStore.integration_test.CustomerIntegrationTest]: CustomerIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-05-01 21:22:39.573 [main] INFO  --- o.s.b.t.c.SpringBootTestContextBootstrapper     :   Found @SpringBootConfiguration com.himanshu.departmentalStore.DepartmentalStoreApplication for test class com.himanshu.departmentalStore.integration_test.CustomerIntegrationTest
2024-05-01 21:22:39.590 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 557
2024-05-01 21:22:39.590 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 557
2024-05-01 21:22:39.595 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched customer: com.himanshu.departmentalStore.model.Customer@4f7e0ea7
2024-05-01 21:22:39.595 [main] INFO  --- c.h.d.controller.CustomerController     :   Returning customer with ID 557: com.himanshu.departmentalStore.model.Customer@4f7e0ea7
2024-05-01 21:22:39.624 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 558
2024-05-01 21:22:39.624 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 558
2024-05-01 21:22:39.635 [main] INFO  --- c.h.d.controller.CustomerController     :   Customer with ID 558 deleted successfully
2024-05-01 21:22:39.657 [main] INFO  --- c.h.d.controller.CustomerController     :   Received request to retrieve all customers.
2024-05-01 21:22:39.658 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching all customers from the database
2024-05-01 21:22:39.662 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched 1 customers
2024-05-01 21:22:39.663 [main] INFO  --- c.h.d.controller.CustomerController     :   Retrieved 1 customers.
2024-05-01 21:22:39.691 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to delete customer with ID 660
2024-05-01 21:22:39.692 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 660
2024-05-01 21:22:39.696 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 660
2024-05-01 21:22:39.722 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to save a new customer: com.himanshu.departmentalStore.model.Customer@210d8f51
2024-05-01 21:22:39.722 [main] INFO  --- c.h.d.service.CustomerService     :   Saving new customer: com.himanshu.departmentalStore.model.Customer@210d8f51
2024-05-01 21:22:39.729 [main] INFO  --- c.h.d.controller.CustomerController     :   Saved customer: com.himanshu.departmentalStore.model.Customer@210d8f51
2024-05-01 21:22:39.756 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 662: com.himanshu.departmentalStore.model.Customer@6947e7a9
2024-05-01 21:22:39.757 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 662: com.himanshu.departmentalStore.model.Customer@6947e7a9
2024-05-01 21:22:39.766 [main] ERROR --- c.h.d.service.CustomerService     :   Customer with ID 662 not found
2024-05-01 21:22:39.766 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 662
2024-05-01 21:22:39.792 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to update customer with ID 563: com.himanshu.departmentalStore.model.Customer@5bced7f6
2024-05-01 21:22:39.792 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 563: com.himanshu.departmentalStore.model.Customer@5bced7f6
2024-05-01 21:22:39.802 [main] INFO  --- c.h.d.controller.CustomerController     :   Updated customer with ID 563: com.himanshu.departmentalStore.model.Customer@3d8ead6
2024-05-01 21:22:39.825 [main] INFO  --- c.h.d.controller.CustomerController     :   Request received to fetch customer with ID 664
2024-05-01 21:22:39.825 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 664
2024-05-01 21:22:39.828 [main] ERROR --- c.h.d.e.GlobalExceptionHandler     :   ResourceNotFoundException: Customer not found with Id : 664
2024-05-01 21:22:40.003 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID 1
2024-05-01 21:22:40.004 [main] INFO  --- c.h.d.service.ProductService     :   Fetched product: com.himanshu.departmentalStore.model.Product@7985f341
2024-05-01 21:22:40.009 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1: com.himanshu.departmentalStore.model.Product@6574e008
2024-05-01 21:22:40.013 [main] INFO  --- c.h.d.service.ProductService     :   Fetching all products from the database
2024-05-01 21:22:40.014 [main] INFO  --- c.h.d.service.ProductService     :   Fetched 2 products
2024-05-01 21:22:40.017 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID 1
2024-05-01 21:22:40.021 [main] INFO  --- c.h.d.service.ProductService     :   Saving new product: com.himanshu.departmentalStore.model.Product@404ac06
2024-05-01 21:22:40.263 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID null
2024-05-01 21:22:40.272 [main] INFO  --- c.h.d.service.ProductService     :   Deleting product with ID -1
2024-05-01 21:22:40.276 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID -1: com.himanshu.departmentalStore.model.Product@793f45f2
2024-05-01 21:22:40.276 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID -1 not found
2024-05-01 21:22:40.280 [main] INFO  --- c.h.d.service.ProductService     :   Updating product with ID 1: null
2024-05-01 21:22:40.281 [main] ERROR --- c.h.d.service.ProductService     :   Product with ID 1 not found
2024-05-01 21:22:40.285 [main] INFO  --- c.h.d.service.ProductService     :   Fetching product with ID -1
2024-05-01 21:22:40.526 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching customer with ID 1
2024-05-01 21:22:40.526 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched customer: com.himanshu.departmentalStore.model.Customer@261a8248
2024-05-01 21:22:40.529 [main] INFO  --- c.h.d.service.CustomerService     :   Deleting customer with ID 1
2024-05-01 21:22:40.534 [main] INFO  --- c.h.d.service.CustomerService     :   Fetching all customers from the database
2024-05-01 21:22:40.534 [main] INFO  --- c.h.d.service.CustomerService     :   Fetched 2 customers
2024-05-01 21:22:40.537 [main] INFO  --- c.h.d.service.CustomerService     :   Saving new customer: com.himanshu.departmentalStore.model.Customer@1c3b884
2024-05-01 21:22:40.540 [main] INFO  --- c.h.d.service.CustomerService     :   Updating customer with ID 1: com.himanshu.departmentalStore.model.Customer@709e3f6a
2024-05-01 21:22:40.545 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch backorder by ID: 1
2024-05-01 21:22:40.545 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorder with Id: 1
2024-05-01 21:22:40.549 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to update backorder with ID 1: BackOrderRequestBody(productId=1, customerId=1, quantity=10)
2024-05-01 21:22:40.550 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:22:40.550 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:22:40.550 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder updated with ID : 1
2024-05-01 21:22:40.555 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to create new backorder with request body: BackOrderRequestBody(productId=1, customerId=1, quantity=5)
2024-05-01 21:22:40.555 [main] INFO  --- c.h.d.controller.BackorderController     :   Converting RequestBody to backorder
2024-05-01 21:22:40.556 [main] INFO  --- c.h.d.controller.BackorderController     :   RequestBody converted to backorder
2024-05-01 21:22:40.556 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder created with ID : 1
2024-05-01 21:22:40.560 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to fetch all backorders
2024-05-01 21:22:40.561 [main] INFO  --- c.h.d.controller.BackorderController     :   Fetched backorders
2024-05-01 21:22:40.565 [main] INFO  --- c.h.d.controller.BackorderController     :   Received request to delete backorder with ID: 1
2024-05-01 21:22:40.566 [main] INFO  --- c.h.d.controller.BackorderController     :   Backorder deleted with ID: 1
2024-05-01 21:22:40.721 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:22:40.727 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:22:40.732 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:22:40.737 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : -1
2024-05-01 21:22:40.742 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:22:40.748 [main] INFO  --- c.h.d.service.DiscountService     :   Fetching discount by ID: -1
2024-05-01 21:22:40.752 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID -1: com.himanshu.departmentalStore.model.Discount@59b1a759
2024-05-01 21:22:40.757 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: -1
2024-05-01 21:22:40.761 [main] INFO  --- c.h.d.service.DiscountService     :   Updating discount with ID 1: null
2024-05-01 21:22:40.764 [main] INFO  --- c.h.d.service.DiscountService     :   Deleting discount with ID: null
2024-05-01 21:22:40.769 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching backorder by Id : 1
2024-05-01 21:22:40.773 [main] INFO  --- c.h.d.service.BackorderService     :   Updating backorder
2024-05-01 21:22:40.776 [main] INFO  --- c.h.d.service.BackorderService     :   Saving backorder
2024-05-01 21:22:40.780 [main] INFO  --- c.h.d.service.BackorderService     :   Fetching all backorders
2024-05-01 21:22:40.784 [main] INFO  --- c.h.d.service.BackorderService     :   Deleting backorder
2024-05-01 21:22:40.791 [main] INFO  --- c.h.d.service.OrderService     :   Placing order.
2024-05-01 21:22:40.792 [main] INFO  --- c.h.d.service.OrderService     :   Checking isProductAvailable
2024-05-01 21:22:40.792 [main] ERROR --- c.h.d.service.OrderService     :   Product not available
2024-05-01 21:22:40.792 [main] INFO  --- c.h.d.service.OrderService     :   Creating Backorder
2024-05-01 21:22:40.792 [main] INFO  --- c.h.d.service.OrderService     :   Saving Backorder
2024-05-01 21:22:40.793 [main] INFO  --- c.h.d.service.OrderService     :   Backorder saved with Id : 1
2024-05-01 21:22:40.798 [main] INFO  --- c.h.d.service.OrderService     :   Deleting order with Id : 1
2024-05-01 21:22:40.805 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:22:40.806 [main] INFO  --- c.h.d.service.OrderService     :   Check if the customer, product, and discount are the same or different
2024-05-01 21:22:40.806 [main] ERROR --- c.h.d.service.OrderService     :   No change in previous and current quantity : not updated
2024-05-01 21:22:40.811 [main] INFO  --- c.h.d.service.OrderService     :   Updating order with Id : 1
2024-05-01 21:22:40.824 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:22:40.829 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 21:22:40.843 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 21:22:40.864 [SpringApplicationShutdownHook] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:22:40.865 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Shutdown initiated...
2024-05-01 21:22:40.873 [SpringApplicationShutdownHook] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-2 - Shutdown completed.
2024-05-01 21:23:22.820 [background-preinit] INFO  --- o.h.validator.internal.util.Version     :   HV000001: Hibernate Validator 8.0.1.Final
2024-05-01 21:23:22.916 [main] INFO  --- c.h.d.DepartmentalStoreApplication     :   Starting DepartmentalStoreApplication using Java 21.0.2 with PID 1160 (C:\Users\himanshu.kumar\IdeaProjects\departmentalStore\target\classes started by Himanshu.Kumar in C:\Users\himanshu.kumar\IdeaProjects\departmentalStore)
2024-05-01 21:23:22.917 [main] DEBUG --- c.h.d.DepartmentalStoreApplication     :   Running with Spring Boot v3.2.4, Spring v6.1.5
2024-05-01 21:23:22.918 [main] INFO  --- c.h.d.DepartmentalStoreApplication     :   No active profile set, falling back to 1 default profile: "default"
2024-05-01 21:23:25.023 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-05-01 21:23:25.141 [main] INFO  --- o.s.d.r.c.RepositoryConfigurationDelegate     :   Finished Spring Data repository scanning in 103 ms. Found 5 JPA repository interfaces.
2024-05-01 21:23:26.390 [main] INFO  --- o.s.b.w.e.tomcat.TomcatWebServer     :   Tomcat initialized with port 8080 (http)
2024-05-01 21:23:26.404 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Initializing ProtocolHandler ["http-nio-8080"]
2024-05-01 21:23:26.407 [main] INFO  --- o.a.catalina.core.StandardService     :   Starting service [Tomcat]
2024-05-01 21:23:26.407 [main] INFO  --- o.a.catalina.core.StandardEngine     :   Starting Servlet engine: [Apache Tomcat/10.1.19]
2024-05-01 21:23:26.520 [main] INFO  --- o.a.c.c.C.[Tomcat].[localhost].[/]     :   Initializing Spring embedded WebApplicationContext
2024-05-01 21:23:26.520 [main] INFO  --- o.s.b.w.s.c.ServletWebServerApplicationContext     :   Root WebApplicationContext: initialization completed in 3506 ms
2024-05-01 21:23:27.068 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Starting...
2024-05-01 21:23:27.690 [main] INFO  --- com.zaxxer.hikari.pool.HikariPool     :   HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@16e907b6
2024-05-01 21:23:27.694 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Start completed.
2024-05-01 21:23:27.931 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   Flyway Community Edition 9.22.3 by Redgate
2024-05-01 21:23:27.931 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   See release notes here: https://rd.gt/416ObMi
2024-05-01 21:23:27.932 [main] INFO  --- o.f.c.i.license.VersionPrinter     :   
2024-05-01 21:23:27.967 [main] INFO  --- org.flywaydb.core.FlywayExecutor     :   Database: jdbc:mysql://localhost:3306/jpa_departmentalstore_flyway (MySQL 8.0)
2024-05-01 21:23:28.044 [main] INFO  --- o.f.core.internal.command.DbValidate     :   Successfully validated 6 migrations (execution time 00:00.046s)
2024-05-01 21:23:28.068 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Current version of schema `jpa_departmentalstore_flyway`: 6
2024-05-01 21:23:28.073 [main] INFO  --- o.f.core.internal.command.DbMigrate     :   Schema `jpa_departmentalstore_flyway` is up to date. No migration necessary.
2024-05-01 21:23:28.248 [main] INFO  --- o.h.jpa.internal.util.LogHelper     :   HHH000204: Processing PersistenceUnitInfo [name: default]
2024-05-01 21:23:28.367 [main] INFO  --- org.hibernate.Version     :   HHH000412: Hibernate ORM core version 6.4.4.Final
2024-05-01 21:23:28.458 [main] INFO  --- o.h.c.i.RegionFactoryInitiator     :   HHH000026: Second-level cache disabled
2024-05-01 21:23:28.808 [main] INFO  --- o.s.o.j.p.SpringPersistenceUnitInfo     :   No LoadTimeWeaver setup: ignoring JPA class transformer
2024-05-01 21:23:30.849 [main] INFO  --- o.h.e.t.j.p.i.JtaPlatformInitiator     :   HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-05-01 21:23:30.923 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:23:32.796 [main] WARN  --- o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration     :   spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-05-01 21:23:34.409 [main] INFO  --- o.s.b.a.e.web.EndpointLinksResolver     :   Exposing 14 endpoint(s) beneath base path '/actuator'
2024-05-01 21:23:34.525 [main] INFO  --- o.a.coyote.http11.Http11NioProtocol     :   Starting ProtocolHandler ["http-nio-8080"]
2024-05-01 21:23:34.535 [main] WARN  --- o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext     :   Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2024-05-01 21:23:34.540 [main] INFO  --- o.s.o.j.LocalContainerEntityManagerFactoryBean     :   Closing JPA EntityManagerFactory for persistence unit 'default'
2024-05-01 21:23:34.544 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown initiated...
2024-05-01 21:23:34.557 [main] INFO  --- com.zaxxer.hikari.HikariDataSource     :   HikariPool-1 - Shutdown completed.
2024-05-01 21:23:34.592 [main] INFO  --- o.s.b.a.l.ConditionEvaluationReportLogger     :   

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-05-01 21:23:34.625 [main] ERROR --- o.s.b.d.LoggingFailureAnalysisReporter     :   

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

